<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç‰¹è¨±æ³• ë§ˆìŠ¤í„° â€” í…Œë§ˆíŠ¹í—ˆë²• ì•”ê¸° ê²Œì„</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600;700;900&family=Noto+Sans+KR:wght@300;400;500;700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0d0f14; --bg2:#141720; --bg3:#1c2030; --border:#2a2f42;
  --gold:#c9a84c; --gold2:#e8c96a; --gold-dim:rgba(201,168,76,0.15);
  --red:#e05252; --green:#52c97a; --blue:#5b8af0; --purple:#9b6ef0;
  --orange:#e07b52;
  --text:#e8e6e0; --text2:#9a9585; --text3:#5c584f;
  --card-front:#181c27; --card-back:#16201e;
  --shadow:0 20px 60px rgba(0,0,0,0.6); --radius:16px;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Noto Sans KR',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden;}
.bg-texture{position:fixed;inset:0;pointer-events:none;z-index:0;background:radial-gradient(ellipse 80% 50% at 20% 10%,rgba(201,168,76,.06) 0%,transparent 60%),radial-gradient(ellipse 60% 40% at 80% 80%,rgba(91,138,240,.05) 0%,transparent 60%);}
.bg-grid{position:fixed;inset:0;pointer-events:none;z-index:0;background-image:linear-gradient(var(--border) 1px,transparent 1px),linear-gradient(90deg,var(--border) 1px,transparent 1px);background-size:48px 48px;opacity:.18;}

#app{position:relative;z-index:1;max-width:900px;margin:0 auto;padding:24px 16px;}
.screen{display:none;}
.screen.active{display:block;animation:fadeUp .4s ease;}
@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}

/* â”€â”€ Header â”€â”€ */
.game-header{text-align:center;padding:40px 0 28px;}
.game-title{font-family:'Noto Serif KR',serif;font-size:clamp(26px,6vw,50px);font-weight:900;letter-spacing:-1px;background:linear-gradient(135deg,var(--gold2) 0%,var(--gold) 50%,#a07830 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.1;}
.game-subtitle{margin-top:8px;font-size:12px;color:var(--text2);letter-spacing:3px;text-transform:uppercase;font-weight:300;}

/* â”€â”€ Stats â”€â”€ */
.stats-row{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin:20px 0;}
.stat-card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--radius);padding:14px;text-align:center;transition:border-color .2s;}
.stat-card:hover{border-color:var(--gold);}
.stat-val{font-family:'DM Mono',monospace;font-size:24px;font-weight:500;color:var(--gold2);line-height:1;}
.stat-label{font-size:10px;color:var(--text3);margin-top:4px;letter-spacing:1px;}

/* â”€â”€ Mastery Track Indicator â”€â”€ */
.mastery-tracks{display:flex;gap:8px;margin:16px 0;flex-wrap:wrap;}
.track-pill{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:11px;font-weight:700;border:1px solid;}
.track-pill.fc{border-color:var(--blue);color:var(--blue);background:rgba(91,138,240,.1);}
.track-pill.sub{border-color:var(--purple);color:var(--purple);background:rgba(155,110,240,.1);}
.track-pill.done{border-color:var(--green);color:var(--green);background:rgba(82,201,122,.1);}

/* â”€â”€ Section â”€â”€ */
.section-title{font-family:'Noto Serif KR',serif;font-size:12px;color:var(--gold);letter-spacing:3px;text-transform:uppercase;margin-bottom:14px;padding-bottom:7px;border-bottom:1px solid var(--border);}

/* â”€â”€ Category â”€â”€ */
.category-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:9px;margin-bottom:28px;}
.cat-btn{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:13px 15px;cursor:pointer;text-align:left;transition:all .2s;position:relative;overflow:hidden;}
.cat-btn::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--gold);opacity:0;transition:opacity .2s;}
.cat-btn:hover,.cat-btn.selected{border-color:var(--gold);background:var(--gold-dim);}
.cat-btn:hover::before,.cat-btn.selected::before{opacity:1;}
.cat-name{font-size:12px;font-weight:700;color:var(--text);display:block;}
.cat-meta{font-size:10px;color:var(--text3);margin-top:3px;}
.cat-tracks{display:flex;gap:4px;margin-top:6px;}
.cat-track-bar{flex:1;height:3px;border-radius:2px;background:var(--border);overflow:hidden;}
.cat-track-fill-fc{height:100%;background:var(--blue);border-radius:2px;transition:width .4s;}
.cat-track-fill-sub{height:100%;background:var(--purple);border-radius:2px;transition:width .4s;}

/* â”€â”€ Buttons â”€â”€ */
.btn-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:20px 0;}
.btn{padding:13px 26px;border-radius:10px;font-family:'Noto Sans KR',sans-serif;font-size:14px;font-weight:700;cursor:pointer;border:none;transition:all .2s;letter-spacing:.5px;}
.btn-primary{background:linear-gradient(135deg,var(--gold) 0%,#a07830 100%);color:#0d0f14;box-shadow:0 4px 20px rgba(201,168,76,.3);}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 28px rgba(201,168,76,.4);}
.btn-secondary{background:var(--bg2);color:var(--text);border:1px solid var(--border);}
.btn-secondary:hover{border-color:var(--gold);color:var(--gold);}
.btn-purple{background:linear-gradient(135deg,var(--purple) 0%,#6b4eb0 100%);color:#fff;box-shadow:0 4px 20px rgba(155,110,240,.3);}
.btn-purple:hover{transform:translateY(-2px);box-shadow:0 6px 28px rgba(155,110,240,.4);}
.btn-blue{background:linear-gradient(135deg,var(--blue) 0%,#3a5fc0 100%);color:#fff;box-shadow:0 4px 20px rgba(91,138,240,.3);}
.btn-blue:hover{transform:translateY(-2px);}
.btn-sm{padding:8px 14px;font-size:12px;border-radius:8px;}
.btn-green{background:var(--green);color:#0d0f14;}
.btn-red{background:var(--red);color:#fff;}
.due-badge{display:inline-block;background:var(--red);color:#fff;font-size:9px;font-weight:700;padding:1px 6px;border-radius:20px;margin-left:5px;vertical-align:middle;}

/* â”€â”€ Mode Grid â”€â”€ */
.mode-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin:20px 0;}
.mode-card{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:22px;cursor:pointer;transition:all .25s;text-align:center;position:relative;overflow:hidden;}
.mode-card::after{content:'';position:absolute;inset:0;opacity:0;transition:opacity .2s;}
.mode-card:hover{transform:translateY(-3px);box-shadow:0 8px 32px rgba(0,0,0,.4);}
.mode-card.fc-mode:hover{border-color:var(--blue);}
.mode-card.fc-mode::after{background:rgba(91,138,240,.05);}
.mode-card.sub-mode:hover{border-color:var(--purple);}
.mode-card.sub-mode::after{background:rgba(155,110,240,.05);}
.mode-card.quiz-mode:hover{border-color:var(--orange);}
.mode-card.review-mode:hover{border-color:var(--green);}
.mode-card.stat-mode:hover{border-color:var(--gold);}
.mode-card:hover::after{opacity:1;}
.mode-icon{font-size:32px;margin-bottom:10px;}
.mode-title{font-weight:700;font-size:15px;margin-bottom:5px;}
.mode-desc{font-size:11px;color:var(--text2);line-height:1.5;}
.mode-badge{display:inline-block;font-size:9px;font-weight:700;padding:2px 7px;border-radius:10px;margin-top:6px;letter-spacing:1px;}
.badge-blue{background:rgba(91,138,240,.2);color:var(--blue);border:1px solid rgba(91,138,240,.3);}
.badge-purple{background:rgba(155,110,240,.2);color:var(--purple);border:1px solid rgba(155,110,240,.3);}
.badge-orange{background:rgba(224,123,82,.2);color:var(--orange);border:1px solid rgba(224,123,82,.3);}
.badge-green{background:rgba(82,201,122,.2);color:var(--green);border:1px solid rgba(82,201,122,.3);}
.badge-gold{background:var(--gold-dim);color:var(--gold);border:1px solid rgba(201,168,76,.3);}

/* â•â•â• SHARED SCREEN HEADER â•â•â• */
.fc-header{display:flex;align-items:center;gap:12px;margin-bottom:22px;}
.fc-back-btn{background:var(--bg2);border:1px solid var(--border);color:var(--text);padding:8px 13px;border-radius:8px;font-size:13px;cursor:pointer;transition:all .2s;white-space:nowrap;}
.fc-back-btn:hover{border-color:var(--gold);color:var(--gold);}
.fc-progress-wrap{flex:1;}
.fc-progress-bar{height:4px;background:var(--border);border-radius:2px;}
.fc-progress-fill{height:100%;background:var(--gold);border-radius:2px;transition:width .4s;}
.fc-progress-fill.blue{background:var(--blue);}
.fc-progress-fill.purple{background:var(--purple);}
.fc-counter{font-family:'DM Mono',monospace;font-size:11px;color:var(--text2);margin-top:4px;}
.mode-label-pill{font-size:11px;font-family:'DM Mono',monospace;padding:4px 10px;border-radius:20px;white-space:nowrap;}
.mlp-fc{background:rgba(91,138,240,.15);color:var(--blue);border:1px solid rgba(91,138,240,.3);}
.mlp-sub{background:rgba(155,110,240,.15);color:var(--purple);border:1px solid rgba(155,110,240,.3);}
.mlp-quiz{background:rgba(224,123,82,.15);color:var(--orange);border:1px solid rgba(224,123,82,.3);}
.mlp-review{background:rgba(82,201,122,.15);color:var(--green);border:1px solid rgba(82,201,122,.3);}

/* â•â•â• FLASHCARD â•â•â• */
.card-scene{perspective:1200px;margin:0 auto 20px;max-width:680px;height:320px;cursor:pointer;}
.card-3d{width:100%;height:100%;position:relative;transform-style:preserve-3d;transition:transform .55s cubic-bezier(.4,0,.2,1);}
.card-3d.flipped{transform:rotateY(180deg);}
.card-face{position:absolute;inset:0;backface-visibility:hidden;border-radius:20px;padding:32px;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;border:1px solid var(--border);box-shadow:var(--shadow);}
.card-front{background:var(--card-front);}
.card-back{background:var(--card-back);transform:rotateY(180deg);text-align:left;align-items:flex-start;justify-content:flex-start;overflow-y:auto;}
.card-law-badge{font-family:'DM Mono',monospace;font-size:11px;color:var(--gold);background:var(--gold-dim);border:1px solid rgba(201,168,76,.3);padding:3px 10px;border-radius:20px;margin-bottom:16px;letter-spacing:1px;}
.card-cat-badge{font-size:10px;color:var(--text3);letter-spacing:2px;text-transform:uppercase;margin-bottom:10px;}
.card-question{font-family:'Noto Serif KR',serif;font-size:clamp(17px,3vw,22px);font-weight:700;color:var(--text);line-height:1.5;}
.card-hint{font-size:11px;color:var(--text3);margin-top:18px;}
.card-field-label{font-size:10px;color:var(--gold);letter-spacing:2px;text-transform:uppercase;margin-bottom:10px;font-family:'DM Mono',monospace;}
.card-answer{font-size:14px;line-height:1.9;color:var(--text);}
.card-answer strong{color:var(--gold2);font-weight:700;}

/* Rating */
.rating-area{display:none;gap:8px;justify-content:center;flex-wrap:wrap;margin:0 auto;max-width:680px;}
.rating-area.visible{display:flex;}
.rating-btn{flex:1;min-width:70px;max-width:150px;padding:12px 8px;border-radius:12px;border:1px solid var(--border);font-family:'Noto Sans KR',sans-serif;font-size:12px;font-weight:700;cursor:pointer;background:var(--bg2);transition:all .2s;display:flex;flex-direction:column;align-items:center;gap:3px;}
.rating-btn .emoji{font-size:18px;}
.rating-btn .days{font-size:10px;color:var(--text3);font-family:'DM Mono',monospace;}
.r-again{border-color:var(--red);color:var(--red);} .r-again:hover{background:rgba(224,82,82,.15);}
.r-hard{border-color:var(--orange);color:var(--orange);} .r-hard:hover{background:rgba(224,123,82,.15);}
.r-good{border-color:var(--blue);color:var(--blue);} .r-good:hover{background:rgba(91,138,240,.15);}
.r-easy{border-color:var(--green);color:var(--green);} .r-easy:hover{background:rgba(82,201,122,.15);}

/* â•â•â• SUBJECTIVE (ì£¼ê´€ì‹) â•â•â• */
.sub-wrap{max-width:680px;margin:0 auto;}
.sub-question-card{background:var(--bg2);border:1px solid rgba(155,110,240,.4);border-radius:20px;padding:28px;margin-bottom:18px;}
.sub-law{font-family:'DM Mono',monospace;font-size:11px;color:var(--purple);margin-bottom:8px;}
.sub-field-tag{display:inline-block;font-size:10px;padding:2px 8px;border-radius:10px;background:rgba(155,110,240,.15);color:var(--purple);border:1px solid rgba(155,110,240,.3);margin-bottom:10px;letter-spacing:1px;font-family:'DM Mono',monospace;}
.sub-q-text{font-family:'Noto Serif KR',serif;font-size:clamp(16px,2.5vw,20px);font-weight:700;line-height:1.6;color:var(--text);}
.sub-blanks-wrap{margin-top:16px;}
.sub-blank-row{display:flex;align-items:flex-start;gap:10px;margin-bottom:10px;}
.sub-blank-num{font-family:'DM Mono',monospace;font-size:12px;color:var(--purple);min-width:20px;padding-top:11px;}
.sub-blank-input{flex:1;background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:10px 14px;font-family:'Noto Sans KR',sans-serif;font-size:14px;color:var(--text);outline:none;resize:none;transition:border-color .2s;min-height:44px;}
.sub-blank-input:focus{border-color:var(--purple);}
.sub-blank-input.graded-correct{border-color:var(--green);background:rgba(82,201,122,.07);}
.sub-blank-input.graded-partial{border-color:var(--gold);background:rgba(201,168,76,.07);}
.sub-blank-input.graded-wrong{border-color:var(--red);background:rgba(224,82,82,.07);}
.sub-textarea{width:100%;background:var(--bg3);border:1.5px solid rgba(155,110,240,.3);border-radius:12px;padding:14px 16px;font-family:'Noto Sans KR',sans-serif;font-size:14px;color:var(--text);outline:none;resize:vertical;min-height:100px;transition:border-color .2s;line-height:1.8;}
.sub-textarea:focus{border-color:var(--purple);}
.sub-hint-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;}
.sub-hint-txt{font-size:11px;color:var(--text3);}
.sub-char-count{font-family:'DM Mono',monospace;font-size:11px;color:var(--text3);}
.keyword-hint-btn{background:transparent;border:1px solid var(--border);border-radius:6px;padding:3px 9px;font-size:11px;color:var(--text3);cursor:pointer;transition:all .2s;}
.keyword-hint-btn:hover{border-color:var(--purple);color:var(--purple);}

/* Grade result */
.grade-result{margin-top:16px;border-radius:14px;overflow:hidden;border:1px solid var(--border);}
.grade-header{padding:14px 18px;display:flex;align-items:center;gap:10px;}
.grade-score-circle{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'DM Mono',monospace;font-size:14px;font-weight:700;flex-shrink:0;}
.gc-perfect{background:rgba(82,201,122,.2);color:var(--green);border:2px solid var(--green);}
.gc-good{background:rgba(91,138,240,.2);color:var(--blue);border:2px solid var(--blue);}
.gc-partial{background:rgba(201,168,76,.2);color:var(--gold);border:2px solid var(--gold);}
.gc-fail{background:rgba(224,82,82,.2);color:var(--red);border:2px solid var(--red);}
.grade-msg{font-size:13px;font-weight:700;}
.grade-sub-msg{font-size:11px;color:var(--text2);margin-top:2px;}
.grade-body{padding:14px 18px;background:var(--bg3);}
.grade-comparison{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.gc-panel{border-radius:10px;padding:12px;}
.gc-panel-your{background:rgba(91,138,240,.08);border:1px solid rgba(91,138,240,.2);}
.gc-panel-correct{background:rgba(82,201,122,.08);border:1px solid rgba(82,201,122,.2);}
.gc-panel-label{font-size:10px;letter-spacing:1.5px;font-weight:700;margin-bottom:6px;text-transform:uppercase;font-family:'DM Mono',monospace;}
.gpl-your{color:var(--blue);}
.gpl-correct{color:var(--green);}
.gc-panel-text{font-size:13px;line-height:1.7;color:var(--text);}
.kw-match-row{margin-top:12px;}
.kw-label{font-size:10px;color:var(--text3);margin-bottom:6px;letter-spacing:1px;text-transform:uppercase;font-family:'DM Mono',monospace;}
.kw-chips{display:flex;flex-wrap:wrap;gap:5px;}
.kw-chip{font-size:11px;padding:3px 9px;border-radius:20px;font-family:'DM Mono',monospace;}
.kw-hit{background:rgba(82,201,122,.15);color:var(--green);border:1px solid rgba(82,201,122,.3);}
.kw-miss{background:rgba(224,82,82,.1);color:var(--red);border:1px solid rgba(224,82,82,.3);}
.self-eval-row{display:flex;gap:8px;margin-top:14px;justify-content:center;}
.self-eval-btn{padding:10px 20px;border-radius:10px;font-size:13px;font-weight:700;cursor:pointer;border:none;transition:all .2s;}
.seb-correct{background:rgba(82,201,122,.2);color:var(--green);border:1px solid var(--green);}
.seb-correct:hover{background:var(--green);color:#0d0f14;}
.seb-wrong{background:rgba(224,82,82,.15);color:var(--red);border:1px solid var(--red);}
.seb-wrong:hover{background:var(--red);color:#fff;}

/* â•â•â• QUIZ â•â•â• */
.quiz-question-card{background:var(--bg2);border:1px solid rgba(224,123,82,.3);border-radius:20px;padding:28px;margin-bottom:18px;max-width:680px;margin:0 auto 18px;}
.quiz-q-law{font-family:'DM Mono',monospace;font-size:11px;color:var(--orange);margin-bottom:8px;}
.quiz-q-text{font-family:'Noto Serif KR',serif;font-size:clamp(15px,2.5vw,19px);font-weight:700;line-height:1.6;color:var(--text);}
.quiz-options{display:flex;flex-direction:column;gap:9px;max-width:680px;margin:0 auto 20px;}
.quiz-opt{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:14px 18px;cursor:pointer;font-size:13px;line-height:1.6;color:var(--text);transition:all .2s;text-align:left;display:flex;align-items:flex-start;gap:11px;}
.quiz-opt:hover:not(.locked){border-color:var(--orange);background:rgba(224,123,82,.08);}
.quiz-opt .opt-num{font-family:'DM Mono',monospace;font-size:11px;color:var(--text3);min-width:18px;padding-top:1px;}
.quiz-opt.correct{border-color:var(--green);background:rgba(82,201,122,.1);}
.quiz-opt.correct .opt-num{color:var(--green);}
.quiz-opt.wrong{border-color:var(--red);background:rgba(224,82,82,.1);}
.quiz-opt.wrong .opt-num{color:var(--red);}
.quiz-opt.locked{cursor:default;}
.quiz-feedback{max-width:680px;margin:0 auto 14px;padding:14px 18px;border-radius:12px;font-size:13px;line-height:1.7;display:none;}
.quiz-feedback.cfb{background:rgba(82,201,122,.1);border:1px solid var(--green);color:var(--green);}
.quiz-feedback.wfb{background:rgba(224,82,82,.07);border:1px solid var(--red);}
.quiz-feedback.wfb .fb-correct{color:var(--green);font-weight:700;}

/* â•â•â• RESULT â•â•â• */
.result-card{background:var(--bg2);border:1px solid var(--gold);border-radius:20px;padding:40px 32px;text-align:center;max-width:540px;margin:0 auto;}
.result-score{font-family:'DM Mono',monospace;font-size:64px;font-weight:500;color:var(--gold2);line-height:1;}
.result-breakdown{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin:28px 0;}
.rb-item{text-align:center;}
.rb-val{font-family:'DM Mono',monospace;font-size:26px;font-weight:500;}
.rb-lab{font-size:10px;color:var(--text3);margin-top:3px;}
.rb-c .rb-val{color:var(--green);} .rb-w .rb-val{color:var(--red);} .rb-n .rb-val{color:var(--text2);}

/* â•â•â• PROGRESS â•â•â• */
.prog-row{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:14px 18px;display:flex;align-items:center;gap:14px;transition:border-color .2s;}
.prog-row:hover{border-color:var(--border);}
.progress-grid{display:flex;flex-direction:column;gap:8px;}
.prog-law{font-family:'DM Mono',monospace;font-size:10px;color:var(--gold);min-width:90px;}
.prog-name{flex:1;font-size:12px;color:var(--text2);}
.prog-tracks{display:flex;flex-direction:column;gap:3px;width:70px;}
.prog-track-row{display:flex;align-items:center;gap:4px;}
.pt-label{font-size:9px;font-family:'DM Mono',monospace;width:18px;}
.ptl-fc{color:var(--blue);} .ptl-sub{color:var(--purple);}
.pt-bar{flex:1;height:3px;background:var(--border);border-radius:2px;}
.pt-fill-fc{height:100%;background:var(--blue);border-radius:2px;}
.pt-fill-sub{height:100%;background:var(--purple);border-radius:2px;}
.mastered-tag{font-size:9px;color:var(--green);background:rgba(82,201,122,.1);padding:2px 6px;border-radius:4px;font-family:'DM Mono',monospace;white-space:nowrap;}
.learning-tag{font-size:9px;color:var(--gold);background:var(--gold-dim);padding:2px 6px;border-radius:4px;font-family:'DM Mono',monospace;white-space:nowrap;}
.new-tag{font-size:9px;color:var(--text3);background:var(--bg3);padding:2px 6px;border-radius:4px;font-family:'DM Mono',monospace;white-space:nowrap;}

/* â”€â”€ Nav Tabs â”€â”€ */
.nav-tabs{display:flex;gap:3px;margin-bottom:20px;background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:3px;}
.nav-tab{flex:1;padding:8px 4px;border-radius:8px;background:transparent;border:none;color:var(--text2);font-size:12px;font-weight:500;cursor:pointer;transition:all .2s;font-family:'Noto Sans KR',sans-serif;}
.nav-tab.active{background:var(--gold);color:#0d0f14;font-weight:700;}
.nav-tab:hover:not(.active){color:var(--text);background:var(--bg3);}

/* â”€â”€ Toast â”€â”€ */
.toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(80px);background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:11px 18px;font-size:13px;color:var(--text);z-index:1000;transition:transform .3s ease;pointer-events:none;}
.toast.show{transform:translateX(-50%) translateY(0);}

/* â”€â”€ Streak â”€â”€ */
.streak-badge{display:inline-flex;align-items:center;gap:6px;background:var(--gold-dim);border:1px solid rgba(201,168,76,.3);border-radius:20px;padding:6px 14px;font-size:13px;color:var(--gold2);font-weight:700;margin-bottom:20px;}

/* â”€â”€ Mastery info box â”€â”€ */
.mastery-info{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:14px 18px;margin:0 0 20px;font-size:12px;color:var(--text2);line-height:1.8;}
.mastery-info strong{color:var(--gold2);}

/* â•â•â• BRAIN SCIENCE FEATURES â•â•â• */

/* â”€â”€ Daily Routine Panel â”€â”€ */
.routine-panel{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:18px 20px;margin-bottom:20px;}
.routine-title{font-size:11px;color:var(--gold);letter-spacing:2.5px;text-transform:uppercase;font-family:'DM Mono',monospace;margin-bottom:14px;display:flex;align-items:center;gap:8px;}
.routine-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;}
.routine-slot{background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:14px 12px;text-align:center;cursor:pointer;transition:all .2s;position:relative;}
.routine-slot:hover{border-color:var(--gold);}
.routine-slot.done{border-color:var(--green);background:rgba(82,201,122,.08);}
.routine-slot.done .rs-icon{filter:none;}
.rs-icon{font-size:24px;margin-bottom:6px;display:block;filter:grayscale(0.6);}
.rs-name{font-size:12px;font-weight:700;color:var(--text);}
.rs-desc{font-size:10px;color:var(--text3);margin-top:3px;line-height:1.4;}
.rs-check{position:absolute;top:8px;right:8px;font-size:13px;display:none;}
.routine-slot.done .rs-check{display:block;}
.rs-action{font-size:10px;color:var(--gold);margin-top:6px;font-weight:700;}

/* â”€â”€ D-day Sprint Panel â”€â”€ */
.dday-panel{background:var(--bg2);border:1px solid rgba(224,82,82,.3);border-radius:16px;padding:18px 20px;margin-bottom:20px;}
.dday-title{font-size:11px;color:var(--red);letter-spacing:2.5px;text-transform:uppercase;font-family:'DM Mono',monospace;margin-bottom:14px;display:flex;align-items:center;justify-content:space-between;}
.dday-input-row{display:flex;gap:10px;align-items:center;margin-bottom:14px;}
.dday-input{background:var(--bg3);border:1px solid var(--border);border-radius:8px;padding:8px 12px;font-family:'Noto Sans KR',sans-serif;font-size:13px;color:var(--text);outline:none;flex:1;}
.dday-input:focus{border-color:var(--red);}
.dday-schedule{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;}
.dday-phase{background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:10px;text-align:center;}
.dday-phase.active{border-color:var(--red);background:rgba(224,82,82,.08);}
.dday-phase.done-phase{border-color:var(--text3);opacity:.5;}
.dp-num{font-family:'DM Mono',monospace;font-size:22px;font-weight:500;color:var(--red);line-height:1;}
.dp-label{font-size:10px;color:var(--text3);margin-top:3px;}
.dp-days{font-size:9px;color:var(--gold);margin-top:2px;font-family:'DM Mono',monospace;}
.dday-counter{font-family:'DM Mono',monospace;font-size:32px;font-weight:500;color:var(--red);text-align:center;margin-bottom:12px;}
.dday-sub{font-size:12px;color:var(--text2);text-align:center;margin-bottom:14px;}

/* â”€â”€ Retention Gauge â”€â”€ */
.retention-wrap{position:absolute;top:14px;right:14px;}
.retention-arc{display:block;}
.retention-pct{font-family:'DM Mono',monospace;font-size:11px;font-weight:500;text-anchor:middle;dominant-baseline:middle;}
.ret-label{position:absolute;top:-4px;right:0;font-size:9px;color:var(--text3);letter-spacing:1px;text-transform:uppercase;font-family:'DM Mono',monospace;white-space:nowrap;}
.due-indicator{position:absolute;top:14px;left:14px;display:flex;align-items:center;gap:5px;}
.di-dot{width:8px;height:8px;border-radius:50%;}
.di-label{font-size:10px;font-family:'DM Mono',monospace;}

/* â”€â”€ Forgetting Curve Mini Chart â”€â”€ */
.forgetting-curve-wrap{max-width:680px;margin:0 auto 16px;background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:14px 18px;}
.fc-curve-title{font-size:10px;color:var(--text3);letter-spacing:1.5px;text-transform:uppercase;font-family:'DM Mono',monospace;margin-bottom:10px;}
.fc-curve-svg{width:100%;height:60px;}

/* â”€â”€ 1-3-7-14 Schedule Visual â”€â”€ */
.schedule-viz{display:flex;align-items:center;gap:0;margin:12px 0;max-width:680px;margin:12px auto;}
.sv-step{flex:1;text-align:center;position:relative;}
.sv-step::after{content:'';position:absolute;left:50%;top:10px;width:100%;height:2px;background:var(--border);}
.sv-step:last-child::after{display:none;}
.sv-dot{width:22px;height:22px;border-radius:50%;border:2px solid var(--border);background:var(--bg3);margin:0 auto;position:relative;z-index:1;font-size:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.sv-dot.current{border-color:var(--gold);background:var(--gold);color:#0d0f14;font-weight:700;}
.sv-dot.done{border-color:var(--green);background:var(--green);}
.sv-dot.future{border-color:var(--border);color:var(--text3);}
.sv-label{font-size:9px;color:var(--text3);margin-top:4px;font-family:'DM Mono',monospace;}

/* â”€â”€ Feynman Mode â”€â”€ */
.feynman-card{background:linear-gradient(135deg,rgba(155,110,240,.1) 0%,rgba(91,138,240,.05) 100%);border:1px solid rgba(155,110,240,.4);border-radius:20px;padding:28px;margin-bottom:18px;max-width:680px;margin:0 auto 18px;}
.feynman-intro{display:flex;align-items:flex-start;gap:14px;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid rgba(155,110,240,.2);}
.feynman-mascot{font-size:36px;flex-shrink:0;}
.feynman-speech{background:rgba(155,110,240,.15);border-radius:12px;padding:12px 14px;position:relative;}
.feynman-speech::before{content:'';position:absolute;left:-8px;top:12px;width:0;height:0;border-top:8px solid transparent;border-bottom:8px solid transparent;border-right:8px solid rgba(155,110,240,.15);}
.feynman-speech p{font-size:13px;color:var(--text2);line-height:1.6;}
.feynman-speech strong{color:var(--purple);}

/* â”€â”€ Before-Sleep Mode â”€â”€ */
.sleep-banner{background:linear-gradient(135deg,rgba(91,138,240,.12) 0%,rgba(155,110,240,.08) 100%);border:1px solid rgba(91,138,240,.3);border-radius:14px;padding:16px 18px;margin-bottom:20px;display:flex;align-items:center;gap:14px;}
.sleep-icon{font-size:32px;flex-shrink:0;}
.sleep-info{flex:1;}
.sleep-title{font-weight:700;font-size:14px;color:var(--blue);margin-bottom:4px;}
.sleep-desc{font-size:12px;color:var(--text2);line-height:1.5;}

/* â”€â”€ Optimal timing badge â”€â”€ */
.timing-badge{display:inline-flex;align-items:center;gap:5px;padding:3px 10px;border-radius:20px;font-size:10px;font-weight:700;font-family:'DM Mono',monospace;}
.tb-perfect{background:rgba(224,82,82,.15);color:var(--red);border:1px solid rgba(224,82,82,.3);}
.tb-good{background:rgba(201,168,76,.15);color:var(--gold);border:1px solid rgba(201,168,76,.3);}
.tb-early{background:rgba(91,138,240,.12);color:var(--blue);border:1px solid rgba(91,138,240,.25);}

/* â”€â”€ Session timer â”€â”€ */
.session-timer{font-family:'DM Mono',monospace;font-size:11px;color:var(--text3);position:fixed;bottom:14px;right:14px;background:var(--bg2);border:1px solid var(--border);border-radius:8px;padding:5px 10px;z-index:100;}

/* Scrollbar */
::-webkit-scrollbar{width:5px;} ::-webkit-scrollbar-track{background:var(--bg2);}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px;} ::-webkit-scrollbar-thumb:hover{background:var(--gold);}
@media(max-width:600px){.stats-row{grid-template-columns:repeat(3,1fr);}.mode-grid{grid-template-columns:1fr;}.card-scene{height:270px;}.card-face{padding:22px;}.grade-comparison{grid-template-columns:1fr;}.routine-grid{grid-template-columns:1fr;}.dday-schedule{grid-template-columns:repeat(2,1fr);}}
</style>
</head>
<body>
<div class="bg-texture"></div>
<div class="bg-grid"></div>
<div id="app">

<!-- â•â•â• HOME â•â•â• -->
<div id="screen-home" class="screen active">
  <div class="game-header">
    <div class="game-title">ç‰¹è¨±æ³• ë§ˆìŠ¤í„°</div>
    <div class="game-subtitle">ì—ë¹™í•˜ìš°ìŠ¤ ë§ê°ê³¡ì„  Ã— ëŠ¥ë™ì  ì¸ì¶œ Ã— 1-3-7-14 ê°„ê²©ë°˜ë³µ</div>
  </div>

  <div id="streak-area" class="streak-badge" style="display:none">
    ğŸ”¥ <span id="streak-num">0</span>ì¼ ì—°ì† í•™ìŠµ ì¤‘
  </div>

  <!-- â”€â”€ ì˜¤ëŠ˜ì˜ 3íƒ€ì„ ë£¨í‹´ â”€â”€ -->
  <div class="routine-panel">
    <div class="routine-title">â± ì˜¤ëŠ˜ì˜ í•™ìŠµ ë£¨í‹´ <span style="font-size:10px;color:var(--text3);font-weight:400;letter-spacing:0;">Â· í•˜ë£¨ 3ë²ˆì´ ì¥ê¸°ê¸°ì–µì˜ í•µì‹¬</span></div>
    <div class="routine-grid">
      <div class="routine-slot" id="slot-morning" onclick="startRoutine('morning')">
        <span class="rs-icon">â˜€ï¸</span>
        <div class="rs-name">ì•„ì¹¨ ë³µìŠµ</div>
        <div class="rs-desc">5ë¶„ Â· ì „ë‚  ì·¨ì¹¨ ì „ ë‚´ìš©<br>ìˆ˜ë©´ ì¤‘ ê³ ì •ëœ ê¸°ì–µ ì„ ëª…í™”</div>
        <div class="rs-action">â†’ FC 5ì¥ ë¹ ë¥¸ ì ê²€</div>
        <span class="rs-check">âœ…</span>
      </div>
      <div class="routine-slot" id="slot-golden" onclick="startRoutine('golden')">
        <span class="rs-icon">âš¡</span>
        <div class="rs-name">ê³¨ë“ íƒ€ì„</div>
        <div class="rs-desc">10ë¶„ Â· í•™ìŠµ ì§í›„<br>66%+ ë§ê° ë°œìƒ ì „ ì°¨ë‹¨</div>
        <div class="rs-action">â†’ ìƒˆ ì¹´ë“œ ì¦‰ì‹œ ë³µìŠµ</div>
        <span class="rs-check">âœ…</span>
      </div>
      <div class="routine-slot" id="slot-sleep" onclick="startRoutine('sleep')">
        <span class="rs-icon">ğŸŒ™</span>
        <div class="rs-name">ì·¨ì¹¨ ì „ ë°±ì§€ ë³µìŠµ</div>
        <div class="rs-desc">15ë¶„ Â· ìˆ˜ë©´ ì¤‘ í•´ë§ˆê°€<br>ëŒ€ë‡Œ í”¼ì§ˆë¡œ ì´ë™Â·ê³ ì •</div>
        <div class="rs-action">â†’ íŒŒì¸ë§Œ ì£¼ê´€ì‹ ê¸°ìˆ </div>
        <span class="rs-check">âœ…</span>
      </div>
    </div>
  </div>

  <!-- â”€â”€ D-day ìŠ¤í”„ë¦°íŠ¸ â”€â”€ -->
  <div class="dday-panel">
    <div class="dday-title">
      <span>ğŸ¯ ì‹œí—˜ D-day ìŠ¤í”„ë¦°íŠ¸ (8â†’4â†’2â†’1ì¼)</span>
      <button class="btn btn-secondary btn-sm" style="font-size:10px;padding:4px 10px;" onclick="toggleDday()">ì„¤ì • â–¾</button>
    </div>
    <div id="dday-content">
      <div id="dday-setup" style="display:none;">
        <div class="dday-input-row">
          <input type="date" class="dday-input" id="dday-date" oninput="">
          <button class="btn btn-red btn-sm" onclick="saveDdayDate()">ì €ì¥</button>
        </div>
        <div style="font-size:11px;color:var(--text3);">ì‹œí—˜ì¼ ê¸°ì¤€ ì—­ì‚°: ì „ë²”ìœ„ 8ì¼ â†’ ì••ì¶• 4ì¼ â†’ ì•½ì  2ì¼ â†’ ìµœì¢… 1ì¼</div>
      </div>
      <div id="dday-display" style="display:none;">
        <div class="dday-counter" id="dday-num">D-?</div>
        <div class="dday-sub" id="dday-sub-text"></div>
        <div class="dday-schedule" id="dday-schedule-grid"></div>
        <div style="text-align:center;margin-top:12px;gap:8px;display:flex;justify-content:center;flex-wrap:wrap;">
          <button class="btn btn-red btn-sm" onclick="startSprint()">ğŸ“š ì˜¤ëŠ˜ ìŠ¤í”„ë¦°íŠ¸ ì‹œì‘</button>
          <button class="btn btn-secondary btn-sm" onclick="clearDday()">ì·¨ì†Œ</button>
        </div>
      </div>
      <div id="dday-empty" style="font-size:12px;color:var(--text3);text-align:center;padding:4px 0;">
        ì‹œí—˜ì¼ì„ ì„¤ì •í•˜ë©´ 8-4-2-1 ì••ì¶• ìŠ¤ì¼€ì¤„ì´ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤
      </div>
    </div>
  </div>

  <div class="mastery-info">
    <strong>ì™„ì „ ì•”ê¸° ê¸°ì¤€ (ì´ì¤‘ íŠ¸ë™)</strong>: 
    <span style="color:var(--blue)">ğŸƒ í”Œë˜ì‹œì¹´ë“œ</span> 1â†’3â†’7â†’14â†’21ì¼ ë‹¨ê³„ ë‹¬ì„± (ë³µìŠµê°„ê²© 21ì¼â†‘)
    <strong>+</strong>
    <span style="color:var(--purple)">âœï¸ ì£¼ê´€ì‹</span> ì •ë‹µ 3íšŒâ†‘ â†’ ë‘ ì¡°ê±´ ë™ì‹œ ì¶©ì¡± ì‹œ
    <span style="color:var(--green)">â­ ì™„ì „ ì•”ê¸°</span>
  </div>

  <div class="stats-row">
    <div class="stat-card"><div class="stat-val" id="stat-total">0</div><div class="stat-label">ì „ì²´ ì¹´ë“œ</div></div>
    <div class="stat-card"><div class="stat-val" id="stat-due" style="color:var(--red)">0</div><div class="stat-label">FC ë³µìŠµ ì˜ˆì •</div></div>
    <div class="stat-card"><div class="stat-val" id="stat-sub-due" style="color:var(--purple)">0</div><div class="stat-label">ì£¼ê´€ì‹ ì˜ˆì •</div></div>
    <div class="stat-card"><div class="stat-val" id="stat-learned" style="color:var(--blue)">0</div><div class="stat-label">FC í•™ìŠµì™„ë£Œ</div></div>
    <div class="stat-card"><div class="stat-val" id="stat-mastered" style="color:var(--gold2)">0</div><div class="stat-label">â­ ì™„ì „ ì•”ê¸°</div></div>
  </div>

  <div id="cat-section">
    <div class="section-title">â–¸ ì¹´í…Œê³ ë¦¬ ì„ íƒ (ë¯¸ì„ íƒ ì‹œ ì „ì²´)</div>
    <div class="category-grid" id="category-grid"></div>
  </div>

  <div class="section-title">â–¸ í•™ìŠµ ëª¨ë“œ ì„ íƒ</div>
  <div class="mode-grid" style="grid-template-columns:repeat(3,1fr);">
    <div class="mode-card fc-mode" onclick="startMode('flashcard')">
      <div class="mode-icon">ğŸƒ</div>
      <div class="mode-title">í”Œë˜ì‹œì¹´ë“œ</div>
      <div class="mode-desc">ì¹´ë“œ ë’¤ì§‘ê¸° í›„ ìê¸°í‰ê°€<br>1â†’3â†’7â†’14â†’21ì¼ ìë™ ìŠ¤ì¼€ì¤„</div>
      <div class="mode-badge badge-blue">FC íŠ¸ë™</div>
    </div>
    <div class="mode-card sub-mode" onclick="startMode('subjective')">
      <div class="mode-icon">âœï¸</div>
      <div class="mode-title">ë°±ì§€ ì£¼ê´€ì‹</div>
      <div class="mode-desc">ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´ì„ ì§ì ‘ ê¸°ìˆ <br>í‚¤ì›Œë“œ ìë™ ì±„ì  + ìê¸°í‰ê°€</div>
      <div class="mode-badge badge-purple">SUB íŠ¸ë™</div>
    </div>
    <div class="mode-card sub-mode" onclick="startMode('feynman')">
      <div class="mode-icon">ğŸ§’</div>
      <div class="mode-title">íŒŒì¸ë§Œ ì“°ê¸°</div>
      <div class="mode-desc">ì´ˆë“±í•™ìƒì—ê²Œ ì„¤ëª…í•˜ë“¯<br>ì‰¬ìš´ ë§ë¡œ â†’ ì§„ì§œ ì´í•´ í™•ì¸</div>
      <div class="mode-badge badge-purple">FEYNMAN</div>
    </div>
    <div class="mode-card review-mode" onclick="startMode('review')">
      <div class="mode-icon">ğŸ”</div>
      <div class="mode-title">ì˜¤ëŠ˜ì˜ FC ë³µìŠµ</div>
      <div class="mode-desc">ìŠê¸° ì§ì „ ìµœì  íƒ€ì´ë°<br>ì ì • ë‚œì´ë„ë¡œ ì‹ ê²½ë§ ê°•í™”</div>
      <div class="mode-badge badge-green">DUE ONLY</div>
    </div>
    <div class="mode-card sub-mode" onclick="startMode('sleep-review')">
      <div class="mode-icon">ğŸŒ™</div>
      <div class="mode-title">ì·¨ì¹¨ ì „ ì´ì •ë¦¬</div>
      <div class="mode-desc">ì˜¤ëŠ˜ í•™ìŠµ ì¹´ë“œ ë°±ì§€ ë³µìŠµ<br>ìˆ˜ë©´ ì¤‘ ì¥ê¸°ê¸°ì–µ ì´ë™ ê·¹ëŒ€í™”</div>
      <div class="mode-badge badge-blue">SLEEP</div>
    </div>
    <div class="mode-card quiz-mode" onclick="startMode('quiz')">
      <div class="mode-icon">âœï¸</div>
      <div class="mode-title">4ì§€ì„ ë‹¤ í€´ì¦ˆ</div>
      <div class="mode-desc">ì…€í”„ í…ŒìŠ¤íŠ¸ Â· ë¹ ë¥¸ ì ê²€<br>ì˜¤ë‹µ SM-2 ìë™ ë°˜ì˜</div>
      <div class="mode-badge badge-orange">QUIZ</div>
    </div>
    <div class="mode-card sub-mode" onclick="startMode('sub-review')">
      <div class="mode-icon">ğŸ“</div>
      <div class="mode-title">ì£¼ê´€ì‹ ë³µìŠµ</div>
      <div class="mode-desc">ì£¼ê´€ì‹ ë³µìŠµ ì˜ˆì • ì¹´ë“œë§Œ<br>1-3-7-14ì¼ ì£¼ê¸° ì“°ê¸° í›ˆë ¨</div>
      <div class="mode-badge badge-purple">SUB DUE</div>
    </div>
    <div class="mode-card stat-mode" onclick="showScreen('screen-curve')">
      <div class="mode-icon">ğŸ“ˆ</div>
      <div class="mode-title">ë§ê° ê³¡ì„  ë¶„ì„</div>
      <div class="mode-desc">ì¹´ë“œë³„ í˜„ì¬ ê¸°ì–µ ìœ ì§€ìœ¨<br>ì·¨ì•½ ì¹´ë“œ ìš°ì„ ìˆœìœ„ íŒŒì•…</div>
      <div class="mode-badge badge-gold">CURVE</div>
    </div>
    <div class="mode-card stat-mode" onclick="showScreen('screen-progress')">
      <div class="mode-icon">ğŸ“Š</div>
      <div class="mode-title">í•™ìŠµ í˜„í™©</div>
      <div class="mode-desc">FCÂ·ì£¼ê´€ì‹ íŠ¸ë™ ì§„ë„<br>ë‹¤ìŒ ë³µìŠµì¼ ì „ì²´ ì¡°íšŒ</div>
      <div class="mode-badge badge-gold">STATS</div>
    </div>
  </div>

  <div style="text-align:center;margin-top:12px;">
    <button class="btn btn-secondary btn-sm" onclick="resetAll()">ğŸ—‘ ì „ì²´ ì´ˆê¸°í™”</button>
  </div>
</div>

<!-- â•â•â• FLASHCARD â•â•â• -->
<div id="screen-flashcard" class="screen">
  <div class="fc-header">
    <button class="fc-back-btn" onclick="goHome()">â† í™ˆ</button>
    <div class="fc-progress-wrap">
      <div class="fc-progress-bar"><div class="fc-progress-fill" id="fc-prog-fill" style="width:0%"></div></div>
      <div class="fc-counter" id="fc-counter">0 / 0</div>
    </div>
    <span class="mode-label-pill mlp-fc" id="fc-mode-label">FLASH</span>
  </div>

  <!-- 1-3-7-14-21 ë‹¨ê³„ ì‹œê°í™” -->
  <div id="fc-schedule-viz" style="max-width:680px;margin:0 auto 14px;display:flex;align-items:center;gap:0;">
    <div class="sv-step" id="sv0"><div class="sv-dot sv-dot-0">æ–°</div><div class="sv-label">ì‹ ê·œ</div></div>
    <div style="flex:1;height:2px;background:var(--border);"></div>
    <div class="sv-step" id="sv1"><div class="sv-dot sv-dot-1">1</div><div class="sv-label">1ì¼</div></div>
    <div style="flex:1;height:2px;background:var(--border);"></div>
    <div class="sv-step" id="sv2"><div class="sv-dot sv-dot-2">3</div><div class="sv-label">3ì¼</div></div>
    <div style="flex:1;height:2px;background:var(--border);"></div>
    <div class="sv-step" id="sv3"><div class="sv-dot sv-dot-3">7</div><div class="sv-label">7ì¼</div></div>
    <div style="flex:1;height:2px;background:var(--border);"></div>
    <div class="sv-step" id="sv4"><div class="sv-dot sv-dot-4">14</div><div class="sv-label">14ì¼</div></div>
    <div style="flex:1;height:2px;background:var(--border);"></div>
    <div class="sv-step" id="sv5"><div class="sv-dot sv-dot-5">21+</div><div class="sv-label">ì¥ê¸°</div></div>
  </div>

  <div class="card-scene" id="card-scene" onclick="flipCard()">
    <div class="card-3d" id="card-3d">
      <div class="card-face card-front" style="position:relative;">
        <!-- ê¸°ì–µ ìœ ì§€ìœ¨ ê²Œì´ì§€ -->
        <div class="retention-wrap" id="retention-wrap">
          <svg class="retention-arc" width="60" height="60" viewBox="0 0 60 60">
            <circle cx="30" cy="30" r="24" fill="none" stroke="var(--bg3)" stroke-width="5"/>
            <circle id="ret-arc" cx="30" cy="30" r="24" fill="none" stroke="var(--green)" stroke-width="5"
              stroke-dasharray="150.8" stroke-dashoffset="150.8" stroke-linecap="round"
              transform="rotate(-90 30 30)" style="transition:stroke-dashoffset .6s,stroke .4s;"/>
            <text id="ret-pct-txt" class="retention-pct" x="30" y="31" fill="var(--text)" font-size="10">-</text>
          </svg>
          <div class="ret-label">ê¸°ì–µìœ ì§€ìœ¨</div>
        </div>
        <!-- íƒ€ì´ë° ë°°ì§€ -->
        <div class="due-indicator" id="timing-badge"></div>
        <div class="card-cat-badge" id="fc-cat-badge"></div>
        <div class="card-law-badge" id="fc-law-badge"></div>
        <div class="card-question" id="fc-question"></div>
        <div class="card-hint">ì¹´ë“œë¥¼ í´ë¦­í•˜ì—¬ ì •ë‹µ í™•ì¸ â†“</div>
      </div>
      <div class="card-face card-back">
        <div class="card-field-label" id="fc-field-label"></div>
        <div class="card-answer" id="fc-answer"></div>
      </div>
    </div>
  </div>

  <div class="rating-area" id="rating-area">
    <button class="rating-btn r-again" onclick="rateCard(0)"><span class="emoji">âŒ</span><span>ë‹¤ì‹œ</span><span class="days" id="r0-days"></span></button>
    <button class="rating-btn r-hard" onclick="rateCard(1)"><span class="emoji">ğŸ˜°</span><span>ì–´ë ¤ì›€</span><span class="days" id="r1-days"></span></button>
    <button class="rating-btn r-good" onclick="rateCard(2)"><span class="emoji">ğŸ‘</span><span>ë³´í†µ</span><span class="days" id="r2-days"></span></button>
    <button class="rating-btn r-easy" onclick="rateCard(3)"><span class="emoji">âš¡</span><span>ì‰¬ì›€</span><span class="days" id="r3-days"></span></button>
  </div>
  <div style="text-align:center;margin-top:16px;">
    <button class="btn btn-secondary btn-sm" onclick="skipCard()">ê±´ë„ˆë›°ê¸° â†’</button>
  </div>
</div>

<!-- â•â•â• SUBJECTIVE â•â•â• -->
<div id="screen-subjective" class="screen">
  <div class="fc-header">
    <button class="fc-back-btn" onclick="goHome()">â† í™ˆ</button>
    <div class="fc-progress-wrap">
      <div class="fc-progress-bar"><div class="fc-progress-fill purple" id="sub-prog-fill" style="width:0%"></div></div>
      <div class="fc-counter" id="sub-counter">0 / 0</div>
    </div>
    <span class="mode-label-pill mlp-sub" id="sub-mode-label">WRITE</span>
  </div>

  <div class="sub-wrap">
    <div class="sub-question-card">
      <div class="sub-law" id="sub-law-badge"></div>
      <div class="sub-field-tag" id="sub-field-tag"></div>
      <div class="sub-q-text" id="sub-question"></div>
    </div>

    <div id="sub-blanks-container"></div>

    <div id="grade-result-area"></div>

    <div style="display:flex;gap:10px;justify-content:center;margin-top:16px;" id="sub-submit-row">
      <button class="btn btn-purple" onclick="gradeSubjective()">âœ“ ì±„ì í•˜ê¸°</button>
      <button class="btn btn-secondary btn-sm" onclick="skipSubCard()">ê±´ë„ˆë›°ê¸°</button>
    </div>
    <div id="sub-next-row" style="display:none;text-align:center;margin-top:12px;">
      <button class="btn btn-purple" onclick="nextSubCard()">ë‹¤ìŒ ë¬¸ì œ â†’</button>
    </div>
  </div>
</div>

<!-- â•â•â• QUIZ â•â•â• -->
<div id="screen-quiz" class="screen">
  <div class="fc-header">
    <button class="fc-back-btn" onclick="goHome()">â† í™ˆ</button>
    <div class="fc-progress-wrap">
      <div class="fc-progress-bar"><div class="fc-progress-fill" id="quiz-prog-fill" style="width:0%"></div></div>
      <div class="fc-counter" id="quiz-counter">0 / 0</div>
    </div>
    <span class="mode-label-pill mlp-quiz">QUIZ</span>
  </div>

  <div class="quiz-question-card">
    <div class="quiz-q-law" id="quiz-law-badge"></div>
    <div class="quiz-q-text" id="quiz-question"></div>
  </div>
  <div class="quiz-options" id="quiz-options"></div>
  <div class="quiz-feedback" id="quiz-feedback"></div>
  <div style="text-align:center;max-width:680px;margin:0 auto;">
    <button class="btn btn-blue" id="quiz-next-btn" onclick="nextQuiz()" style="display:none">ë‹¤ìŒ ë¬¸ì œ â†’</button>
  </div>
</div>

<!-- â•â•â• RESULT â•â•â• -->
<div id="screen-result" class="screen">
  <div style="padding:40px 0 28px;text-align:center;">
    <div style="font-family:'Noto Serif KR',serif;font-size:22px;font-weight:900;color:var(--gold2);margin-bottom:6px;">ì„¸ì…˜ ì™„ë£Œ! ğŸ‰</div>
  </div>
  <div class="result-card">
    <div class="result-score" id="res-score">0%</div>
    <div style="font-size:13px;color:var(--text2);margin-top:6px;" id="res-mode-label"></div>
    <div class="result-breakdown">
      <div class="rb-item rb-c"><div class="rb-val" id="res-correct">0</div><div class="rb-lab">ì •ë‹µ</div></div>
      <div class="rb-item rb-w"><div class="rb-val" id="res-wrong">0</div><div class="rb-lab">ì˜¤ë‹µ</div></div>
      <div class="rb-item rb-n"><div class="rb-val" id="res-new">0</div><div class="rb-lab">ìƒˆ ì¹´ë“œ</div></div>
    </div>
    <div id="res-mastery-gained" style="font-size:13px;color:var(--gold2);margin-bottom:16px;"></div>
    <div id="res-next-due" style="font-size:12px;color:var(--text2);margin-bottom:10px;"></div>
    <div id="res-next-recommendation" style="font-size:12px;color:var(--purple);margin-bottom:20px;"></div>
    <div class="btn-row">
      <button class="btn btn-primary" onclick="startMode(currentMode)">ë‹¤ì‹œ í•™ìŠµ</button>
      <button class="btn btn-secondary" onclick="goHome()">í™ˆìœ¼ë¡œ</button>
    </div>
  </div>
</div>

<!-- â•â•â• PROGRESS â•â•â• -->
<div id="screen-progress" class="screen">
  <div class="fc-header" style="margin-bottom:20px;">
    <button class="fc-back-btn" onclick="goHome()">â† í™ˆ</button>
    <div style="flex:1;text-align:center;font-family:'Noto Serif KR',serif;font-size:15px;font-weight:700;color:var(--gold);">í•™ìŠµ í˜„í™©</div>
  </div>
  <div class="nav-tabs" id="prog-tabs">
    <button class="nav-tab active" onclick="filterProgress('all',this)">ì „ì²´</button>
    <button class="nav-tab" onclick="filterProgress('new',this)">ì‹ ê·œ</button>
    <button class="nav-tab" onclick="filterProgress('learning',this)">í•™ìŠµì¤‘</button>
    <button class="nav-tab" onclick="filterProgress('mastered',this)">â­ì™„ì „ì•”ê¸°</button>
    <button class="nav-tab" onclick="filterProgress('due',this)">ë³µìŠµì˜ˆì •</button>
  </div>
  <div class="progress-grid" id="progress-grid"></div>
</div>

<!-- â•â•â• FEYNMAN SCREEN â•â•â• -->
<div id="screen-feynman" class="screen">
  <div class="fc-header">
    <button class="fc-back-btn" onclick="goHome()">â† í™ˆ</button>
    <div class="fc-progress-wrap">
      <div class="fc-progress-bar"><div class="fc-progress-fill purple" id="feyn-prog-fill" style="width:0%"></div></div>
      <div class="fc-counter" id="feyn-counter">0 / 0</div>
    </div>
    <span class="mode-label-pill mlp-sub">FEYNMAN</span>
  </div>

  <div id="feyn-content" style="max-width:680px;margin:0 auto;">
    <div class="feynman-card">
      <div class="feynman-intro">
        <div class="feynman-mascot">ğŸ§’</div>
        <div class="feynman-speech">
          <p id="feyn-prompt">ì•„ë˜ ì£¼ì œë¥¼ <strong>ì´ˆë“±í•™ìƒ ì¹œêµ¬</strong>ì—ê²Œ ì„¤ëª…í•´ ì£¼ì„¸ìš”.<br>ì–´ë ¤ìš´ ë²•ë¥  ìš©ì–´ ì—†ì´, ì‰¬ìš´ ë§ë¡œ ì“¸ ìˆ˜ ìˆì–´ì•¼ ì§„ì§œë¡œ ì•„ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
        </div>
      </div>
      <div style="font-size:10px;color:var(--purple);font-family:'DM Mono',monospace;letter-spacing:1.5px;margin-bottom:8px;" id="feyn-law"></div>
      <div style="font-family:'Noto Serif KR',serif;font-size:18px;font-weight:700;line-height:1.6;color:var(--text);" id="feyn-question"></div>
    </div>

    <div style="margin-bottom:10px;">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
        <span style="font-size:11px;color:var(--text3);">ì‰¬ìš´ ë§ë¡œ ì„¤ëª…í•˜ê¸° (ì „ë¬¸ìš©ì–´ ì‚¬ìš© ìì œ)</span>
        <span class="sub-char-count" id="feyn-char-count">0ì</span>
      </div>
      <textarea class="sub-textarea" id="feyn-textarea" style="border-color:rgba(155,110,240,.3);"
        placeholder="ì˜ˆ: ì´ ì œë„ëŠ” ë§ˆì¹˜ â—‹â—‹ì²˜ëŸ¼, â—‹â—‹í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ ê²ƒì´ì—ìš”. ìš”ê±´ì€ â‘  â—‹â—‹ â‘¡ â—‹â—‹ â‘¢ â—‹â—‹ì´ê³ , ì´ë ‡ê²Œ í•˜ë©´ â—‹â—‹ë¼ëŠ” íš¨ê³¼ê°€ ë‚˜íƒ€ë‚˜ìš”."
        oninput="document.getElementById('feyn-char-count').textContent=this.value.length+'ì'"></textarea>
    </div>

    <div id="feyn-grade-area"></div>

    <div id="feyn-submit-row" style="display:flex;gap:10px;justify-content:center;margin-top:12px;">
      <button class="btn btn-purple" onclick="gradeFeynman()">âœ“ ì±„ì í•˜ê¸°</button>
      <button class="btn btn-secondary btn-sm" onclick="skipFeynman()">ê±´ë„ˆë›°ê¸°</button>
    </div>
    <div id="feyn-next-row" style="display:none;text-align:center;margin-top:12px;">
      <button class="btn btn-purple" onclick="nextFeynman()">ë‹¤ìŒ ë¬¸ì œ â†’</button>
    </div>
  </div>
</div>

<!-- â•â•â• FORGETTING CURVE SCREEN â•â•â• -->
<div id="screen-curve" class="screen">
  <div class="fc-header" style="margin-bottom:20px;">
    <button class="fc-back-btn" onclick="goHome()">â† í™ˆ</button>
    <div style="flex:1;text-align:center;font-family:'Noto Serif KR',serif;font-size:15px;font-weight:700;color:var(--gold);">ğŸ“ˆ ë§ê° ê³¡ì„  ë¶„ì„</div>
  </div>

  <div style="background:var(--bg2);border:1px solid var(--border);border-radius:14px;padding:18px;margin-bottom:18px;">
    <div style="font-size:11px;color:var(--gold);letter-spacing:2px;text-transform:uppercase;font-family:'DM Mono',monospace;margin-bottom:12px;">ì—ë¹™í•˜ìš°ìŠ¤ ë§ê° ê³¡ì„  ì›ë¦¬</div>
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:12px;">
      <div style="text-align:center;background:var(--bg3);border-radius:8px;padding:10px;">
        <div style="font-size:18px;font-weight:700;color:var(--red);font-family:'DM Mono',monospace;">66%</div>
        <div style="font-size:10px;color:var(--text3);margin-top:2px;">1ì¼ í›„ ë§ê°ë¥ </div>
      </div>
      <div style="text-align:center;background:var(--bg3);border-radius:8px;padding:10px;">
        <div style="font-size:18px;font-weight:700;color:var(--orange);font-family:'DM Mono',monospace;">79%</div>
        <div style="font-size:10px;color:var(--text3);margin-top:2px;">3ì¼ í›„ ë§ê°ë¥ </div>
      </div>
      <div style="text-align:center;background:var(--bg3);border-radius:8px;padding:10px;">
        <div style="font-size:18px;font-weight:700;color:var(--gold);font-family:'DM Mono',monospace;">88%</div>
        <div style="font-size:10px;color:var(--text3);margin-top:2px;">1ì£¼ í›„ ë§ê°ë¥ </div>
      </div>
      <div style="text-align:center;background:var(--bg3);border-radius:8px;padding:10px;">
        <div style="font-size:18px;font-weight:700;color:var(--green);font-family:'DM Mono',monospace;">21ì¼+</div>
        <div style="font-size:10px;color:var(--text3);margin-top:2px;">ì¥ê¸°ê¸°ì–µ ëª©í‘œ</div>
      </div>
    </div>
    <div style="font-size:11px;color:var(--text2);line-height:1.7;">
      ìµœì  ë³µìŠµ ì‹œì ì€ ê¸°ì–µì´ <strong style="color:var(--gold)">ì™„ì „íˆ ì‚¬ë¼ì§€ê¸° ì§ì „</strong>ì…ë‹ˆë‹¤. ì´ë•Œ ëŠë¼ëŠ” 'ì• ë§¤í•œ ë¶ˆí¸í•¨(ì ì • ë‚œì´ë„)'ì´ ì‹ ê²½ë§ì„ ê°€ì¥ ë‹¨ë‹¨í•˜ê²Œ ì—°ê²°í•©ë‹ˆë‹¤.
    </div>
  </div>

  <div style="font-size:11px;color:var(--gold);letter-spacing:2px;text-transform:uppercase;font-family:'DM Mono',monospace;margin-bottom:12px;">ì¹´ë“œë³„ í˜„ì¬ ê¸°ì–µ ìœ ì§€ìœ¨</div>
  <div id="curve-grid" style="display:flex;flex-direction:column;gap:8px;"></div>
</div>

</div><!-- /app -->
<div class="toast" id="toast"></div>
<div class="session-timer" id="session-timer" style="display:none;">â± <span id="timer-display">00:00</span></div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CARD DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Each card has: keywords[] = key terms for subjective grading
// blanks[] = array of {label, answer, keywords} for fill-in mode
const CARDS = [
// â”€â”€ íŠ¹í—ˆìš”ê±´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{id:'PQ01',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•2â…°',sub:'ë°œëª…ì˜ ì •ì˜',field:'ì˜ì˜',
 q:'æ³•2â…° â€” ë°œëª…ì˜ ì •ì˜ëŠ”?',
 a:'<strong>ìì—°ë²•ì¹™ì„ ì´ìš©í•œ ê¸°ìˆ ì  ì‚¬ìƒì˜ ì°½ì‘ìœ¼ë¡œì„œ ê³ ë„í•œ ê²ƒ</strong>',
 keywords:['ìì—°ë²•ì¹™','ì´ìš©','ê¸°ìˆ ì  ì‚¬ìƒ','ì°½ì‘','ê³ ë„']},
{id:'PQ02',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•2â…°',sub:'ë°œëª…ì˜ ì •ì˜',field:'ì·¨ì§€',
 q:'ë°œëª…ì˜ ì •ì˜ ê·œì •(æ³•2â…°)ì˜ ì…ë²• ì·¨ì§€ëŠ”?',
 a:'<strong>ë²•ì ìš©ì˜ í¸ë¦¬ì„± ë° ì˜ˆì¸¡ê°€ëŠ¥ì„± ë„ëª¨</strong>',
 keywords:['ë²•ì ìš©','í¸ë¦¬','ì˜ˆì¸¡ê°€ëŠ¥ì„±']},
{id:'PQ03',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•2â…°',sub:'ë°œëª…ì˜ ì •ì˜',field:'ìš”ê±´',
 q:'æ³•2â…° ë°œëª… ì„±ë¦½ì˜ 4ê°€ì§€ ìš”ê±´ì€?',
 a:'â‘  ìì—°ë²•ì¹™ì„ ì´ìš©í•  ê²ƒ<br>â‘¡ ê¸°ìˆ ì  ì‚¬ìƒì¼ ê²ƒ<br>â‘¢ ì°½ì‘ì„±<br>â‘£ ê³ ë„ì„±',
 keywords:['ìì—°ë²•ì¹™','ê¸°ìˆ ì  ì‚¬ìƒ','ì°½ì‘ì„±','ê³ ë„ì„±']},
{id:'PQ04',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘ æœ¬',sub:'ì„±ë¦½ì„±',field:'ì˜ì˜',
 q:'æ³•29â‘ æœ¬ ì„±ë¦½ì„±ì˜ ì˜ì˜ëŠ”?',
 a:'<strong>êµ¬ì²´ì„±ì„ ê°–ì¶˜ ë°œëª…ìœ¼ë¡œ ì™„ì„±ëœ ê²ƒ</strong>',
 keywords:['êµ¬ì²´ì„±','ì™„ì„±']},
{id:'PQ05',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘ æœ¬',sub:'ì„±ë¦½ì„±',field:'ì·¨ì§€',
 q:'æ³•29â‘ æœ¬ ì„±ë¦½ì„± ê·œì •ì˜ ì·¨ì§€ëŠ”?',
 a:'<strong>ë°œëª…ì˜ ìœ ìš©ì„± í™•ì¸ ì·¨ì§€</strong>',
 keywords:['ìœ ìš©ì„±','í™•ì¸']},
{id:'PQ06',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘ æœ¬',sub:'ì„±ë¦½ì„±',field:'ìš”ê±´',
 q:'æ³•29â‘ æœ¬ ì„±ë¦½ì„±ì˜ ìš”ê±´ì€?',
 a:'í†µìƒì˜ ê¸°ìˆ ìê°€ ë°˜ë³µ ì‹¤ì‹œí•˜ê³ , ëª©ì í•˜ëŠ” ê¸°ìˆ ì  íš¨ê³¼ ë‹¬ì„± ê°€ëŠ¥ì„±ì„ <strong>ì˜ˆì¸¡í•  ìˆ˜ ìˆì„ ì •ë„ë¡œ êµ¬ì²´ì , ê°ê´€ì  êµ¬ì„±</strong>ì„ ê°–ì¶œ ê²ƒ',
 keywords:['í†µìƒì˜ ê¸°ìˆ ì','ë°˜ë³µ ì‹¤ì‹œ','ê¸°ìˆ ì  íš¨ê³¼','êµ¬ì²´ì ','ê°ê´€ì ']},
{id:'PQ07',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘ æœ¬',sub:'ì‚°ì—…ìƒ ì´ìš©ê°€ëŠ¥ì„±',field:'ì˜ì˜',
 q:'ì‚°ì—…ìƒ ì´ìš©ê°€ëŠ¥ì„±ì˜ ì˜ì˜ëŠ”?',
 a:'<strong>ì‚°ì—…ì— ê¸°ìˆ ì ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•  ê²ƒ</strong>',
 keywords:['ì‚°ì—…','ì´ìš©']},
{id:'PQ08',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘ ë³¸',sub:'ì‚°ì—…ìƒ ì´ìš©ê°€ëŠ¥ì„±',field:'ì·¨ì§€',
 q:'ì‚°ì—…ìƒ ì´ìš©ê°€ëŠ¥ì„±ì˜ ì·¨ì§€ëŠ”?',
 a:'<strong>ì‚°ì—…ë°œì „ì— ì´ë°”ì§€</strong>',
 keywords:['ì‚°ì—…ë°œì „','ì´ë°”ì§€']},
{id:'PQ09',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘ ê°í˜¸',sub:'ì‹ ê·œì„±',field:'ì˜ì˜',
 q:'ì‹ ê·œì„±(æ³•29â‘ ê°í˜¸)ì˜ ì˜ì˜ëŠ”?',
 a:'<strong>ê°ê´€ì ìœ¼ë¡œ ìƒˆë¡œìš´ ê¸°ìˆ ì¼ ê²ƒ</strong> (ê°ê´€ì  ì°½ì‘ì„±)',
 keywords:['ê°ê´€ì ','ìƒˆë¡œìš´','ê¸°ìˆ ','ê°ê´€ì  ì°½ì‘ì„±']},
{id:'PQ10',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘ ê°í˜¸',sub:'ì‹ ê·œì„±',field:'ì·¨ì§€',
 q:'ì‹ ê·œì„± ê·œì •ì˜ ì·¨ì§€ëŠ”?',
 a:'ì´ë¯¸ ì•Œë ¤ì§„ <strong>ê³µì§€(å…¬çŸ¥)ì˜ ë°œëª…ì€ íŠ¹í—ˆë¡œì„œ ë³´í˜¸í•  ê°€ì¹˜ê°€ ì—†ìŒ</strong>',
 keywords:['ê³µì§€','ë³´í˜¸í•  ê°€ì¹˜']},
{id:'PQ11',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘ ê°í˜¸',sub:'ì‹ ê·œì„±',field:'ìš”ê±´',
 q:'ì‹ ê·œì„± íŒë‹¨ì˜ ìš”ê±´ì€?',
 a:'â‘  <strong>ì‹ ê·œì„± ìƒì‹¤ì‚¬ìœ </strong> (ê³µì§€ ë“±) í•´ë‹¹ ì—¬ë¶€<br>â‘¡ <strong>ë°œëª…ì˜ ë™ì¼ì„±</strong> íŒë‹¨',
 keywords:['ì‹ ê·œì„± ìƒì‹¤','ë™ì¼ì„±']},
{id:'PQ12',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘¡',sub:'ì§„ë³´ì„±',field:'ì˜ì˜',
 q:'ì§„ë³´ì„±(æ³•29â‘¡)ì˜ ì˜ì˜ëŠ”?',
 a:'<strong>ë³´í˜¸í•  ê°€ì¹˜ê°€ ìˆëŠ” ê¸°ìˆ ì  ì§„ë³´ë¥¼ í¬í•¨í•˜ëŠ” ë°œëª…ì¼ ê²ƒ</strong> (ì£¼ê´€ì  ì°½ì‘ì„±)',
 keywords:['ê¸°ìˆ ì  ì§„ë³´','ì£¼ê´€ì  ì°½ì‘ì„±','ë³´í˜¸í•  ê°€ì¹˜']},
{id:'PQ13',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘¡',sub:'ì§„ë³´ì„±',field:'ì·¨ì§€',
 q:'ì§„ë³´ì„± ê·œì •ì˜ ì·¨ì§€ëŠ”?',
 a:'<strong>ë¹„ì•½ì Â·ëˆ„ì§„ì ì¸ ë°œëª…ì˜ ê³µê°œë§Œì„ íŠ¹í—ˆë¡œì„œ ë³´í˜¸</strong>í•˜ê¸° ìœ„í•¨',
 keywords:['ë¹„ì•½ì ','ëˆ„ì§„ì ','ê³µê°œ','ë³´í˜¸']},
{id:'PQ14',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘¡',sub:'ì§„ë³´ì„±',field:'ìš”ê±´',
 q:'ì§„ë³´ì„± íŒë‹¨ì˜ 5ë‹¨ê³„ ìš”ê±´ì€?',
 a:'â‘  ì¶œì›ë°œëª… íŠ¹ì • â†’ â‘¡ ì„ í–‰ë°œëª… í™•ì • â†’ â‘¢ ì£¼ì„ í–‰ë°œëª… ì„ íƒ<br>â†’ â‘£ ê³µí†µì &ì°¨ì´ì  í™•ì¸<br>â†’ â‘¤ <strong>í†µìƒì˜ ê¸°ìˆ ìê°€ ì‰½ê²Œ ë°œëª…í•  ìˆ˜ ìˆëŠ”ì§€ (ìš©ì´ì„±)</strong> íŒë‹¨',
 keywords:['ì¶œì›ë°œëª…','ì„ í–‰ë°œëª…','ì£¼ì„ í–‰ë°œëª…','í†µìƒì˜ ê¸°ìˆ ì','ìš©ì´ì„±']},
{id:'PQ15',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•36',sub:'ì„ ì¶œì›ì£¼ì˜',field:'ì˜ì˜',
 q:'ì„ ì¶œì›ì£¼ì˜(æ³•36)ì˜ ì˜ì˜ëŠ”?',
 a:'<strong>ë™ì¼í•œ ë°œëª…ì— ëŒ€í•˜ì—¬ ìµœì„ ì˜ ì¶œì›ì¸ì—ê²Œ íŠ¹í—ˆë¥¼ ë¶€ì—¬</strong>í•¨',
 keywords:['ë™ì¼í•œ ë°œëª…','ìµœì„ ','ì¶œì›ì¸','íŠ¹í—ˆë¥¼ ë¶€ì—¬']},
{id:'PQ16',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•36',sub:'ì„ ì¶œì›ì£¼ì˜',field:'ì·¨ì§€',
 q:'ì„ ì¶œì›ì£¼ì˜ì˜ ì·¨ì§€ëŠ”?',
 a:'<strong>ì¤‘ë³µíŠ¹í—ˆë°°ì œ ì›ì¹™ êµ¬í˜„</strong> ë° <strong>ë°œëª…ì˜ ì¡°ê¸°ê³µê°œ ìœ ë„</strong>',
 keywords:['ì¤‘ë³µíŠ¹í—ˆë°°ì œ','ì¡°ê¸°ê³µê°œ']},
{id:'PQ17',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘¢ë“±',sub:'í™•ëŒ€ëœ ì„ ì¶œì›ì£¼ì˜',field:'ì˜ì˜',
 q:'í™•ëŒ€ëœ ì„ ì¶œì›ì£¼ì˜ì˜ ì˜ì˜ëŠ”?',
 a:'<strong>ë¨¼ì € ì¶œì›ëœ ë°œëª…ì´ ë‚˜ì¤‘ì— ê³µê°œëœ ê²½ìš°ì—ë„ íŠ¹í—ˆë¥¼ ë°›ì„ ìˆ˜ ì—†ìŒ</strong>',
 keywords:['ë¨¼ì € ì¶œì›','ë‚˜ì¤‘ì— ê³µê°œ','íŠ¹í—ˆë¥¼ ë°›ì„ ìˆ˜ ì—†']},
{id:'PQ18',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•29â‘¢ë“±',sub:'í™•ëŒ€ëœ ì„ ì¶œì›ì£¼ì˜',field:'ì·¨ì§€',
 q:'í™•ëŒ€ëœ ì„ ì¶œì›ì£¼ì˜ì˜ ì·¨ì§€ 4ê°€ì§€ëŠ”?',
 a:'â‘  ì„ ì¶œì›ì£¼ì˜ ë³´ì™„<br>â‘¡ ê³µìœ ì¬ì‚° ì‚¬ìœ í™” ë°©ì§€<br>â‘¢ ì‹¬ì‚¬ì²­êµ¬ì œë„ì˜ íš¨ìœ¨ì„± ì œê³ <br>â‘£ ë°©ì–´ì¶œì› ì–µì œ',
 keywords:['ì„ ì¶œì›ì£¼ì˜ ë³´ì™„','ê³µìœ ì¬ì‚°','ì‚¬ìœ í™” ë°©ì§€','ë°©ì–´ì¶œì›']},
{id:'PQ19',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•33',sub:'íŠ¹í—ˆë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” ê¶Œë¦¬',field:'ìš”ê±´',
 q:'æ³•33 íŠ¹í—ˆë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” ê¶Œë¦¬ìëŠ”?',
 a:'<strong>ë°œëª…ì„ í•œ ì</strong> ë˜ëŠ” <strong>ê·¸ ìŠ¹ê³„ì¸</strong>',
 keywords:['ë°œëª…ì„ í•œ ì','ìŠ¹ê³„ì¸']},
{id:'PQ20',cat:'íŠ¹í—ˆìš”ê±´',law:'æ³•44',sub:'ê³µë™ì¶œì›',field:'ì˜ì˜',
 q:'ê³µë™ì¶œì›(æ³•44)ì˜ ì˜ì˜ ë° ì·¨ì§€ëŠ”?',
 a:'ì˜ì˜: íŠ¹í—ˆë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” ê¶Œë¦¬ <strong>ê³µìœ ì ëª¨ë‘ê°€ ê³µë™ìœ¼ë¡œ íŠ¹í—ˆì¶œì›</strong><br>ì·¨ì§€: <strong>ê³µìœ ì ì¼ë°©ì˜ ë°°ì‹ í–‰ìœ„ë¡œë¶€í„° íƒ€ê³µìœ ìë¥¼ ë³´í˜¸</strong>',
 keywords:['ê³µìœ ì','ê³µë™ìœ¼ë¡œ','ë°°ì‹ í–‰ìœ„','ë³´í˜¸']},

// â”€â”€ ëª…ì„¸ì„œìš”ê±´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{id:'MS01',cat:'ëª…ì„¸ì„œìš”ê±´',law:'æ³•42â‘¢â…°',sub:'ì‹¤ì‹œê°€ëŠ¥ìš”ê±´',field:'ì˜ì˜/ì·¨ì§€',
 q:'ì‹¤ì‹œê°€ëŠ¥ìš”ê±´(æ³•42â‘¢â…°)ì˜ ì˜ì˜ì™€ ì·¨ì§€ëŠ”?',
 a:'ì˜ì˜: ë°œëª…ì˜ ì„¤ëª…ì„ <strong>í†µìƒì˜ ê¸°ìˆ ìê°€ ì‰½ê²Œ ì‹¤ì‹œí•  ìˆ˜ ìˆë„ë¡ ëª…í™•í•˜ê³  ìƒì„¸í•˜ê²Œ ê¸°ì¬</strong><br>ì·¨ì§€: <strong>ê¸°ìˆ ë¬¸í—Œ & ê¶Œë¦¬í•´ì„¤ì„œë¡œì„œì˜ ì—­í• </strong> ë‹´ë‹¹',
 keywords:['í†µìƒì˜ ê¸°ìˆ ì','ì‰½ê²Œ ì‹¤ì‹œ','ëª…í™•í•˜ê³  ìƒì„¸í•˜ê²Œ','ê¸°ìˆ ë¬¸í—Œ','ê¶Œë¦¬í•´ì„¤ì„œ']},
{id:'MS02',cat:'ëª…ì„¸ì„œìš”ê±´',law:'æ³•42â‘¢â…°',sub:'ì‹¤ì‹œê°€ëŠ¥ìš”ê±´',field:'ìš”ê±´',
 q:'ì‹¤ì‹œê°€ëŠ¥ìš”ê±´ì˜ íŒë‹¨ ê¸°ì¤€ì€?',
 a:'<strong>ê³¼ë„í•œ ì‹¤í—˜ì´ë‚˜ íŠ¹ìˆ˜í•œ ì§€ì‹ì˜ ë¶€ê°€ ì—†ì´</strong><br>ì •í™•í•˜ê²Œ ì´í•´í•˜ê³  ë™ì‹œì— ì¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒ',
 keywords:['ê³¼ë„í•œ ì‹¤í—˜','íŠ¹ìˆ˜í•œ ì§€ì‹','ì´í•´','ì¬í˜„']},
{id:'MS03',cat:'ëª…ì„¸ì„œìš”ê±´',law:'æ³•42â‘£â…°',sub:'ë’·ë°›ì¹¨ ìš”ê±´',field:'ì˜ì˜/ì·¨ì§€',
 q:'ë’·ë°›ì¹¨ ìš”ê±´(æ³•42â‘£â…°)ì˜ ì˜ì˜ì™€ ì·¨ì§€ëŠ”?',
 a:'ì˜ì˜: <strong>ì²­êµ¬í•­ì´ ë°œëª…ì˜ ì„¤ëª…ì— ì˜í•´ ë’·ë°›ì¹¨</strong>ë  ê²ƒ<br>ì·¨ì§€: <strong>ê³µê°œí•˜ì§€ ì•„ë‹ˆí•œ ë°œëª…ì— ëŒ€í•˜ì—¬ íŠ¹í—ˆê¶Œì´ ë¶€ì—¬ë˜ëŠ” ë¶€ë‹¹í•œ ê²°ê³¼ë¥¼ ë§‰ê¸° ìœ„í•¨</strong>',
 keywords:['ì²­êµ¬í•­','ë°œëª…ì˜ ì„¤ëª…','ë’·ë°›ì¹¨','ê³µê°œí•˜ì§€ ì•„ë‹ˆí•œ','ë¶€ë‹¹í•œ']},
{id:'MS04',cat:'ëª…ì„¸ì„œìš”ê±´',law:'æ³•42â‘£â…±',sub:'ëª…í™•ì„± ìš”ê±´',field:'ì˜ì˜/ì·¨ì§€',
 q:'ëª…í™•ì„± ìš”ê±´(æ³•42â‘£â…±)ì˜ ì˜ì˜ì™€ ì·¨ì§€ëŠ”?',
 a:'ì˜ì˜: <strong>ì²­êµ¬í•­ì„ ëª…í™•í•˜ê³  ê°„ê²°í•˜ê²Œ ê¸°ì¬</strong><br>ì·¨ì§€: ëª…ì„¸ì„œì˜ <strong>ê¶Œë¦¬ì„œë¡œì„œ ì—­í• </strong> ë‹´ë‹¹',
 keywords:['ì²­êµ¬í•­','ëª…í™•í•˜ê³  ê°„ê²°í•˜ê²Œ','ê¶Œë¦¬ì„œ']},
{id:'MS05',cat:'ëª…ì„¸ì„œìš”ê±´',law:'æ³•42â‘§',sub:'ë‹¤í•­ì œ',field:'ì˜ì˜/ì·¨ì§€',
 q:'ë‹¤í•­ì œ(æ³•42â‘§)ì˜ ì˜ì˜ì™€ ì·¨ì§€ëŠ”?',
 a:'ì˜ì˜: <strong>ì²­êµ¬ë²”ìœ„ì— ì²­êµ¬í•­ì„ 1 ë˜ëŠ” 2 ì´ìƒìœ¼ë¡œ ê¸°ì¬</strong><br>ì·¨ì§€: â‘  ë°œëª…ì˜ ë‹¤ë©´ì  ë³´í˜¸ ë„ëª¨ â‘¡ ê¶Œë¦¬ë²”ìœ„ ì˜ì—­ì˜ í•œê³„ë¥¼ ëª…í™•íˆ êµ¬ë³„',
 keywords:['ì²­êµ¬ë²”ìœ„','ì²­êµ¬í•­','ë‹¤ë©´ì  ë³´í˜¸','ê¶Œë¦¬ë²”ìœ„','í•œê³„']},
{id:'MS06',cat:'ëª…ì„¸ì„œìš”ê±´',law:'æ³•45',sub:'ì¼íŠ¹í—ˆì¶œì›ë²”ìœ„',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ì¼íŠ¹í—ˆì¶œì›ë²”ìœ„(æ³•45)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´ì€?',
 a:'ì˜ì˜: <strong>í•˜ë‚˜ì˜ ì´ê´„ì ì¸ ë°œëª…ì˜ ê°œë…ì„ í˜•ì„±í•˜ëŠ” ì¼ êµ°(ç¾¤)ì˜ ë°œëª…</strong>ì— ëŒ€í•´ í•˜ë‚˜ì˜ íŠ¹í—ˆì¶œì›<br>ì·¨ì§€: ì ˆì°¨ì˜ í¸ì˜ & ê´€ë ¨ ê¸°ìˆ ì˜ ìš©ì´í•œ ê´€ë¦¬<br>ìš”ê±´: â…°)ê¸°ìˆ ì  ìƒí˜¸ê´€ë ¨ì„± â…±)ë™ì¼Â·ìƒì‘í•˜ëŠ” ê¸°ìˆ ì  íŠ¹ì§• â…²)ê°œì„ ëœ ê²ƒ',
 keywords:['ì´ê´„ì ','ì¼ êµ°','ê¸°ìˆ ì  ìƒí˜¸ê´€ë ¨ì„±','ë™ì¼','ìƒì‘í•˜ëŠ” ê¸°ìˆ ì  íŠ¹ì§•','ê°œì„ ']},

// â”€â”€ ì¶œì›ì´ìµì œë„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{id:'AP01',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•42ì˜2',sub:'ì²­êµ¬ë²”ìœ„ìœ ì˜ˆ',field:'ì˜ì˜/ìš”ê±´',
 q:'ì²­êµ¬ë²”ìœ„ìœ ì˜ˆ(æ³•42ì˜2)ì˜ ì˜ì˜ì™€ ê¸°í•œì€?',
 a:'ì˜ì˜: ì¶œì› ë‹¹ì‹œ <strong>ì²­êµ¬ë²”ìœ„ê°€ ê¸°ì¬ë˜ì§€ ì•Šì€ ëª…ì„¸ì„œ</strong>ë¥¼ ì¶œì›ì„œì— ì²¨ë¶€<br>ê¸°í•œ: ìµœì„ ì¼ë¡œë¶€í„° <strong>1ë…„ 2ì›”</strong> ë˜ëŠ” ì‹¬ì‚¬ì²­êµ¬ í†µì§€ë°›ì€ ë‚ ë¡œë¶€í„° <strong>3ì›”</strong> ì¤‘ ë¹ ë¥¸ ë‚ ',
 keywords:['ì²­êµ¬ë²”ìœ„','ê¸°ì¬ë˜ì§€ ì•Šì€','1ë…„ 2ì›”','3ì›”','ë¹ ë¥¸ ë‚ ']},
{id:'AP02',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•42ì˜3',sub:'ì™¸êµ­ì–´íŠ¹í—ˆì¶œì›',field:'ì˜ì˜/ìš”ê±´',
 q:'ì™¸êµ­ì–´íŠ¹í—ˆì¶œì›(æ³•42ì˜3)ì˜ ì˜ì˜ì™€ ì ˆì°¨ëŠ”?',
 a:'ì˜ì˜: ì¶œì› ë‹¹ì‹œ <strong>êµ­ì–´ê°€ ì•„ë‹Œ ì–¸ì–´ë¡œ ê¸°ì¬í•œ ëª…ì„¸ì„œ ë° ë„ë©´</strong>ì„ ì¶œì›ì„œì— ì²¨ë¶€<br>ì ˆì°¨: ìµœì„ ì¼ë¡œë¶€í„° <strong>1ë…„ 2ì›”</strong> ë˜ëŠ” ì‹¬ì‚¬ì²­êµ¬ í†µì§€ì¼ë¡œë¶€í„° <strong>3ì›”</strong> ì¤‘ ë¹ ë¥¸ ë‚ ê¹Œì§€ <strong>êµ­ì–´ë²ˆì—­ë¬¸ ì œì¶œ</strong>',
 keywords:['êµ­ì–´ê°€ ì•„ë‹Œ','1ë…„ 2ì›”','3ì›”','êµ­ì–´ë²ˆì—­ë¬¸']},
{id:'AP03',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•30',sub:'ê³µì§€ì˜ˆì™¸ì£¼ì¥',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ê³µì§€ì˜ˆì™¸ì£¼ì¥(æ³•30)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´ì€?',
 a:'ì˜ì˜: íŠ¹í—ˆë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” ê¶Œë¦¬ë¥¼ ê°€ì§„ ìì˜ ë°œëª…ì´ <strong>ê³µì§€ë˜ì§€ ì•Šì€ ê²ƒìœ¼ë¡œ ê°„ì£¼</strong><br>ì·¨ì§€: <strong>ì¶œì›ì¸ì˜ ê¶Œë¦¬ë¥¼ ì‹¤íš¨ì ìœ¼ë¡œ ë³´í˜¸</strong><br>ìš”ê±´: â‘ ì˜ì‚¬ì— ê¸°í•œ ìê¸°ê³µì§€+12ì›” ì´ë‚´ ì¶œì›+ì¦ëª…ì„œë¥˜ â‘¡ì˜ì‚¬ì— ë°˜í•œ ê³µì§€+12ì›” ì´ë‚´ ì¶œì›',
 keywords:['ê³µì§€ë˜ì§€ ì•Šì€','ê°„ì£¼','ì¶œì›ì¸','ì‹¤íš¨ì ìœ¼ë¡œ ë³´í˜¸','ìê¸°ê³µì§€','12ì›”']},
{id:'AP04',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•34,35',sub:'ì •ë‹¹í•œ ê¶Œë¦¬ì ì¶œì›',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ì •ë‹¹í•œ ê¶Œë¦¬ì ì¶œì›(æ³•34,35)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´ì€?',
 a:'ì˜ì˜: ì •ë‹¹í•œ ê¶Œë¦¬ìì˜ ì¶œì›ì— ëŒ€í•´ <strong>ì¶œì›ì¼ì„ ë¬´ê¶Œë¦¬ì ì¶œì›ì¼ë¡œ ì†Œê¸‰</strong><br>ì·¨ì§€: ì„ ì¶œì›ì£¼ì˜ ë³´ì™„ & ì •ë‹¹í•œ ê¶Œë¦¬ì ë³´í˜¸<br>ìš”ê±´: ë¬´ê¶Œë¦¬ì ì¶œì›ì´ ê±°ì ˆê²°ì • í™•ì • ë“± í›„ í™•ì •ì¼ë¡œë¶€í„° <strong>30ì¼ ì´ë‚´</strong> ì¶œì› ë“±',
 keywords:['ì†Œê¸‰','ì •ë‹¹í•œ ê¶Œë¦¬ì','30ì¼','ë¬´ê¶Œë¦¬ì','ì„ ì¶œì›ì£¼ì˜ ë³´ì™„']},
{id:'AP05',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•99ì˜2',sub:'íŠ¹í—ˆê¶Œ ì´ì „ì²­êµ¬',field:'ì˜ì˜/ì·¨ì§€/íš¨ê³¼',
 q:'íŠ¹í—ˆê¶Œ ì´ì „ì²­êµ¬(æ³•99ì˜2)ì˜ ì˜ì˜Â·ì·¨ì§€Â·íš¨ê³¼ëŠ”?',
 a:'ì˜ì˜: ì •ë‹¹í•œ ê¶Œë¦¬ìê°€ <strong>ë²•ì›ì˜ íŒê²°ì„ í†µí•´ ë¬´ê¶Œë¦¬ì ëª…ì˜ì˜ íŠ¹í—ˆê¶Œ ì´ì „ì„ ì²­êµ¬</strong><br>ì·¨ì§€: ì •ë‹¹í•œ ê¶Œë¦¬ìë¥¼ ë‘í…ê²Œ ë³´í˜¸<br>íš¨ê³¼: ë¬´ê¶Œë¦¬ìì˜ íŠ¹í—ˆê¶Œì€ <strong>ì„¤ì •ë“±ë¡ëœ ë‚ ë¶€í„° ì •ë‹¹í•œ ê¶Œë¦¬ìì—ê²Œ ìˆëŠ” ê²ƒìœ¼ë¡œ ë´„</strong>',
 keywords:['ë²•ì›','íŒê²°','ì´ì „','ì„¤ì •ë“±ë¡ëœ ë‚ ','ì •ë‹¹í•œ ê¶Œë¦¬ì']},
{id:'AP06',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•47',sub:'ì‹¤ì²´ë³´ì •',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ì‹¤ì²´ë³´ì •(æ³•47)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ë²”ìœ„ ìš”ê±´ì€?',
 a:'ì˜ì˜: íŠ¹í—ˆì¶œì›ì¸ì´ <strong>ì„¤ì •ë“±ë¡ì´ ë˜ê¸° ì „ì— ëª…ì„¸ì„œ ë˜ëŠ” ë„ë©´ì˜ ë‚´ìš©ì„ ë³´ì¶©Â·ì •ì •</strong><br>ì·¨ì§€: ì„ ì¶œì›ì£¼ì˜í•˜ì—ì„œ ì¶œì›ì¸ì„ ë³´í˜¸<br>ë²”ìœ„: <strong>ì‹ ê·œì‚¬í•­ì¶”ê°€ê¸ˆì§€</strong>',
 keywords:['ì„¤ì •ë“±ë¡','ëª…ì„¸ì„œ','ë„ë©´','ë³´ì¶©','ì •ì •','ì‹ ê·œì‚¬í•­ì¶”ê°€ê¸ˆì§€']},
{id:'AP07',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•51',sub:'ë³´ì •ê°í•˜',field:'ì˜ì˜/ì·¨ì§€/íš¨ê³¼',
 q:'ë³´ì •ê°í•˜(æ³•51)ì˜ ì˜ì˜Â·ì·¨ì§€Â·íš¨ê³¼ëŠ”?',
 a:'ì˜ì˜: ì¼ì • ìš”ê±´ì„ ìœ„ë°˜í•œ ë³´ì •ì„ <strong>ê²°ì •ìœ¼ë¡œ ê°í•˜í•˜ëŠ” í–‰ì •ì²˜ë¶„</strong><br>ì·¨ì§€: <strong>ì‹¬ì‚¬ì ˆì°¨ì˜ ì§€ì—° ë°©ì§€</strong><br>íš¨ê³¼: ë‹¹í•´ ë³´ì •ì€ <strong>ì—†ë˜ ê²ƒìœ¼ë¡œ ë´„</strong> â†’ ë³´ì • ì „ ëª…ì„¸ì„œ ê¸°ì¤€',
 keywords:['ê²°ì •','ê°í•˜','ì‹¬ì‚¬ì ˆì°¨','ì§€ì—° ë°©ì§€','ì—†ë˜ ê²ƒ']},
{id:'AP08',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•52',sub:'ë¶„í• ì¶œì›',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ë¶„í• ì¶œì›(æ³•52)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´Â·íš¨ê³¼ëŠ”?',
 a:'ì˜ì˜: íŠ¹í—ˆì¶œì›ì˜ ì¼ë¶€ë¥¼ <strong>í•˜ë‚˜ ì´ìƒì˜ ìƒˆë¡œìš´ íŠ¹í—ˆì¶œì›ìœ¼ë¡œ ë¶„í• </strong><br>ì·¨ì§€: ì¶œì›ì¼ì²´ ì›ì¹™ ìœ„ë°˜ í•´ì†Œ & ìµœì ì˜ ë³´í˜¸<br>ì‹œê¸°: ê±°ì ˆê²°ì •ë“±ë³¸ ì†¡ë‹¬ë°›ì€ ë‚ ë¡œë¶€í„° <strong>3ê°œì›” ì´ë‚´</strong> ë“±<br>íš¨ê³¼: ì¶œì›ì¼ì´ <strong>ì›ì¶œì›ì¼ë¡œ ì†Œê¸‰</strong>',
 keywords:['ë¶„í• ','3ê°œì›”','ì›ì¶œì›ì¼','ì†Œê¸‰']},
{id:'AP09',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•52ì˜2',sub:'ë¶„ë¦¬ì¶œì›',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ë¶„ë¦¬ì¶œì›(æ³•52ì˜2)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´ì€?',
 a:'ì˜ì˜: ì‹¬íŒì²­êµ¬ê°€ ê¸°ê°ëœ íŠ¹í—ˆì¶œì›ì˜ <strong>ë“±ë¡ê°€ëŠ¥í•œ ì¼ë¶€ ì²­êµ¬í•­ì„ ìƒˆë¡œìš´ íŠ¹í—ˆì¶œì›ìœ¼ë¡œ ë¶„ë¦¬</strong><br>ì·¨ì§€: ì‹¬íŒë‹¨ê³„ ì´í›„ì— ê¶Œë¦¬êµ¬ì œ ê¸°íšŒ ë¶€ì—¬<br>ê¸°ê°„: ê¸°ê°ì‹¬ê²° ë“±ë³¸ì„ ì†¡ë‹¬ë°›ì€ ë‚ ë¡œë¶€í„° <strong>30ì¼ ë‚´</strong>',
 keywords:['ê¸°ê°','ë“±ë¡ê°€ëŠ¥í•œ','ì²­êµ¬í•­','30ì¼','ê¶Œë¦¬êµ¬ì œ']},
{id:'AP10',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•53',sub:'ë³€ê²½ì¶œì›',field:'ì˜ì˜/íš¨ê³¼',
 q:'ë³€ê²½ì¶œì›(æ³•53)ì˜ ì˜ì˜ì™€ íš¨ê³¼ëŠ”?',
 a:'ì˜ì˜: ì¶œì›ì˜ ë‚´ìš©ì˜ ë™ì¼ì„±ì„ ìœ ì§€ì‹œí‚¨ ì±„ <strong>ê·¸ í˜•ì‹ë§Œì„ ë³€ê²½</strong><br>íš¨ê³¼: â‘  ì¶œì›ì¼ì´ <strong>ì›ì¶œì›ì¼ë¡œ ì†Œê¸‰</strong> â‘¡ <strong>ì›ì¶œì›ì€ ì·¨í•˜ëœ ê²ƒìœ¼ë¡œ ë´„</strong>',
 keywords:['ë™ì¼ì„±','í˜•ì‹','ì›ì¶œì›ì¼','ì†Œê¸‰','ì·¨í•˜']},
{id:'AP11',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•54',sub:'ì¡°ì•½ìš°ì„ ê¶Œì£¼ì¥',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ì¡°ì•½ìš°ì„ ê¶Œì£¼ì¥(æ³•54)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ì£¼ìš” ìš”ê±´ì€?',
 a:'ì˜ì˜: ì¡°ì•½ë‹¹ì‚¬êµ­ ì¶œì›ì„ ê¸°ì´ˆë¡œ ìš°ì„ ê¶Œì„ ì£¼ì¥í•œ ë°œëª…ì— ëŒ€í•´ <strong>ì†Œì •ì˜ íŒë‹¨ì‹œì  ì†Œê¸‰</strong><br>ì·¨ì§€: ê°êµ­ì—ì„œì˜ ì ˆì°¨ìƒ ì œì•½ ê·¹ë³µ & ì§„ì •í•œ ì„ ì¶œì› ì§€ìœ„ì— ëŒ€í•œ êµ­ì œì  ë³´í˜¸<br>ì„œë¥˜: ìµœìš°ì„ ì¼ë¡œë¶€í„° <strong>1ë…„ 4ê°œì›” ë‚´</strong> ì¦ëª…ì„œë¥˜ ì œì¶œ',
 keywords:['ì¡°ì•½ë‹¹ì‚¬êµ­','ì†Œê¸‰','1ë…„ 4ê°œì›”','êµ­ì œì  ë³´í˜¸']},
{id:'AP12',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•55',sub:'êµ­ë‚´ìš°ì„ ê¶Œì£¼ì¥',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'êµ­ë‚´ìš°ì„ ê¶Œì£¼ì¥(æ³•55)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ê¸°ê°„ì€?',
 a:'ì˜ì˜: êµ­ë‚´ ì„ ì¶œì›ì„ ê¸°ì´ˆë¡œ ìš°ì„ ê¶Œì„ ì£¼ì¥í•œ ë°œëª…ì— ëŒ€í•´ <strong>ì†Œì •ì˜ íŒë‹¨ì‹œì  ì†Œê¸‰</strong><br>ì·¨ì§€: ë°œëª…ìì˜ ëˆ„ì ëœ ì„±ê³¼ ë³´í˜¸ & ë‚´Â·ì™¸êµ­ì¸ê°„ í˜•í‰ì„± ë³´ì¥<br>ê¸°ê°„: <strong>ì„ ì¶œì›ì¼ë¡œë¶€í„° 1ë…„ ì´ë‚´</strong>',
 keywords:['êµ­ë‚´ ì„ ì¶œì›','ì†Œê¸‰','í˜•í‰ì„±','1ë…„ ì´ë‚´']},
{id:'AP13',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•65',sub:'ë³´ìƒê¸ˆì²­êµ¬ê¶Œ',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ë³´ìƒê¸ˆì²­êµ¬ê¶Œ(æ³•65)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ë°œìƒìš”ê±´ì€?',
 a:'ì˜ì˜: íŠ¹í—ˆì¶œì›ì¸ì´ ì¶œì›ë°œëª…ì„ <strong>ë¬´ë‹¨ìœ¼ë¡œ ì—…ìœ¼ë¡œì„œ ì‹¤ì‹œí•˜ëŠ” ìì—ê²Œ ë³´ìƒê¸ˆ ì§€ê¸‰ ì²­êµ¬</strong><br>ì·¨ì§€: ê³µê°œëœ ë°œëª…ì— ëŒ€í•œ ì œ3ìì˜ ëª¨ë°©Â·ë„ìš©ìœ¼ë¡œë¶€í„° ì¶œì›ì¸ ë³´í˜¸<br>ìš”ê±´: ì¶œì›ê³µê°œ í›„ ì„œë©´ê²½ê³  ë˜ëŠ” ì•Œë©´ì„œ ì—…ìœ¼ë¡œì„œ ì‹¤ì‹œ<br>í–‰ì‚¬: <strong>íŠ¹í—ˆê¶Œ ì„¤ì •ë“±ë¡ í›„</strong>ì— í–‰ì‚¬',
 keywords:['ë¬´ë‹¨','ì—…ìœ¼ë¡œì„œ','ë³´ìƒê¸ˆ','ì„œë©´ê²½ê³ ','ì„¤ì •ë“±ë¡ í›„']},
{id:'AP14',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•66ì˜2,66ì˜3',sub:'ì§ê¶Œë³´ì •/ì§ê¶Œì¬ì‹¬ì‚¬',field:'ì˜ì˜/ì·¨ì§€',
 q:'ì§ê¶Œë³´ì •(æ³•66ì˜2)ê³¼ ì§ê¶Œì¬ì‹¬ì‚¬(æ³•66ì˜3)ì˜ ì˜ì˜ì™€ ì·¨ì§€ëŠ”?',
 a:'ì§ê¶Œë³´ì •: ì‹¬ì‚¬ê´€ì´ <strong>íŠ¹í—ˆê²°ì •ì„ í•  ë•Œ ëª…ì„¸ì„œ ë“±ì— ì íŒ ì‚¬í•­ì„ ì§ê¶Œìœ¼ë¡œ ë³´ì •</strong> / ì·¨ì§€: ì‹¬ì‚¬ì§€ì—° ë°©ì§€ & ì¶œì›ì¸ í¸ì˜<br>ì§ê¶Œì¬ì‹¬ì‚¬: ì‹¬ì‚¬ê´€ì´ <strong>íŠ¹í—ˆê²°ì •ì„ ì·¨ì†Œí•˜ê³  ë‹¤ì‹œ ì‹¬ì‚¬</strong> / ì·¨ì§€: <strong>ë¶€ì‹¤íŠ¹í—ˆ ì–‘ì‚° ë°©ì§€</strong>',
 keywords:['íŠ¹í—ˆê²°ì •','ì§ê¶Œ','ë³´ì •','ë¶€ì‹¤íŠ¹í—ˆ','ì·¨ì†Œ','ì¬ì‹¬ì‚¬']},
{id:'AP15',cat:'ì¶œì›ì´ìµì œë„',law:'æ³•67ì˜2',sub:'ì¬ì‹¬ì‚¬ì²­êµ¬',field:'ì˜ì˜/ì·¨ì§€',
 q:'ì¬ì‹¬ì‚¬ì²­êµ¬(æ³•67ì˜2)ì˜ ì˜ì˜ì™€ ì·¨ì§€ëŠ”?',
 a:'ì˜ì˜: íŠ¹í—ˆì—¬ë¶€ ê²°ì •ì„ ë°›ì€ ì¶œì›ì¸ì´ <strong>ë³´ì •ì„ ìˆ˜ë°˜í•˜ì—¬ ì‹¬ì‚¬ê´€ì˜ ì¬ì‹¬ì‚¬ë¥¼ ì²­êµ¬</strong><br>ì·¨ì§€: ì‹¬ì‚¬ ì¢…ê²° ì´í›„ ë³´ì •ì˜ ê¸°íšŒ ë¶€ì—¬ & <strong>ì¡°ì†í•œ ê¶Œë¦¬í™” ë„ëª¨</strong>',
 keywords:['ë³´ì •ì„ ìˆ˜ë°˜','ì¬ì‹¬ì‚¬','ì¡°ì†í•œ ê¶Œë¦¬í™”']},

// â”€â”€ íŠ¹í—ˆê¶ŒÂ·ì‹¤ì‹œê¶Œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{id:'PR01',cat:'íŠ¹í—ˆê¶Œì‹¤ì‹œê¶Œ',law:'æ³•89',sub:'ì¡´ì†ê¸°ê°„ ì—°ì¥',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'í—ˆê°€ ë“±ì— ë”°ë¥¸ ì¡´ì†ê¸°ê°„ ì—°ì¥(æ³•89)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ë“±ë¡ìš”ê±´ì€?',
 a:'ì˜ì˜: ë‹¤ë¥¸ ë²•ë ¹ì˜ í—ˆê°€ ë“±ìœ¼ë¡œ <strong>ì¥ê¸°ê°„ì´ ì†Œìš”ë˜ëŠ” ë°œëª…ì— ëŒ€í•œ íŠ¹í—ˆê¶Œì˜ ì¡´ì†ê¸°ê°„ ì—°ì¥</strong><br>ì·¨ì§€: íƒ€ íŠ¹í—ˆê¶Œìì™€ì˜ í˜•í‰ì„± & ì˜ì•½í’ˆ ë°œëª…ì˜ ë³´í˜¸Â·ì¥ë ¤<br>ìš”ê±´: ì—°ì¥ê¸°ê°„ì´ ì‹¤ì‹œí•  ìˆ˜ ì—†ì—ˆë˜ ê¸°ê°„ì„ ì´ˆê³¼í•˜ì§€ ì•Šì„ ê²ƒ / í•˜ë‚˜ì˜ í—ˆê°€ì— í•˜ë‚˜ì˜ íŠ¹í—ˆê¶Œ ë“±',
 keywords:['ì¥ê¸°ê°„','ì¡´ì†ê¸°ê°„','í˜•í‰ì„±','ì˜ì•½í’ˆ','ì´ˆê³¼í•˜ì§€ ì•Š']},
{id:'PR02',cat:'íŠ¹í—ˆê¶Œì‹¤ì‹œê¶Œ',law:'æ³•100',sub:'ì „ìš©ì‹¤ì‹œê¶Œ',field:'ì˜ì˜/ë°œìƒ/íš¨ë ¥',
 q:'ì „ìš©ì‹¤ì‹œê¶Œ(æ³•100)ì˜ ì˜ì˜Â·ë°œìƒÂ·íš¨ë ¥ì€?',
 a:'ì˜ì˜: ì œ3ìê°€ <strong>ì—…ìœ¼ë¡œì„œ íŠ¹í—ˆë°œëª…ì„ ë…ì ì ìœ¼ë¡œ ì‹¤ì‹œí•  ìˆ˜ ìˆëŠ” ê¶Œë¦¬</strong><br>ë°œìƒ: <strong>ê³„ì•½ + ì„¤ì •ë“±ë¡</strong><br>íš¨ë ¥: ì„¤ì •í–‰ìœ„ë¡œ ì •í•œ ë²”ìœ„ ë‚´ì—ì„œ <strong>ë…ì ë°°íƒ€ì  íš¨ë ¥</strong>',
 keywords:['ì—…ìœ¼ë¡œì„œ','ë…ì ','ê³„ì•½','ì„¤ì •ë“±ë¡','ë…ì ë°°íƒ€ì ']},
{id:'PR03',cat:'íŠ¹í—ˆê¶Œì‹¤ì‹œê¶Œ',law:'æ³•102',sub:'í—ˆë½ì— ì˜í•œ í†µìƒì‹¤ì‹œê¶Œ',field:'ì˜ì˜/ë°œìƒ/íš¨ë ¥',
 q:'í—ˆë½ì— ì˜í•œ í†µìƒì‹¤ì‹œê¶Œ(æ³•102)ì˜ ì˜ì˜Â·ë°œìƒÂ·íš¨ë ¥ì€?',
 a:'ì˜ì˜: <strong>í—ˆë½ì„ ì„±ë¦½ ì›ì¸ìœ¼ë¡œ í•˜ì—¬ ë°œìƒí•˜ëŠ” í†µìƒì‹¤ì‹œê¶Œ</strong><br>ë°œìƒ: <strong>ê³„ì•½</strong> (ì„¤ì •ë“±ë¡ì€ ì œ3ì ëŒ€í•­ìš”ê±´ì— ë¶ˆê³¼)<br>íš¨ë ¥: ì„¤ì •í–‰ìœ„ë¡œ ì •í•œ ë²”ìœ„ ë‚´ì—ì„œ ì‹¤ì‹œ (<strong>ë°°íƒ€ì  íš¨ë ¥ ç„¡</strong>)',
 keywords:['í—ˆë½','ê³„ì•½','ëŒ€í•­ìš”ê±´','ë°°íƒ€ì  íš¨ë ¥ ç„¡']},
{id:'PR04',cat:'íŠ¹í—ˆê¶Œì‹¤ì‹œê¶Œ',law:'æ³•103',sub:'ì„ ì‚¬ìš©ê¶Œ',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´/ë‚´ìš©',
 q:'ì„ ì‚¬ìš©ê¶Œ(æ³•103)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´Â·íŠ¹ì§•ì€?',
 a:'ì˜ì˜: <strong>ì„ ë°œëª…ì— ì˜í•œ ì‚¬ì—…ìì—ê²Œ ì¸ì •ë˜ëŠ” ë²•ì • í†µìƒì‹¤ì‹œê¶Œ</strong><br>ì·¨ì§€: ì„ ì¶œì›ì£¼ì˜ í•˜ì—ì„œ ì„ ë°œëª…ìì™€ ì„ ì¶œì›ì¸ ê°„ì˜ ê³µí‰ ë„ëª¨ & ê¸°ì¡´ ì‚°ì—…ì„¤ë¹„ ë³´í˜¸<br>ìš”ê±´: íŠ¹í—ˆì¶œì›ì‹œ / ì„ ì˜ / êµ­ë‚´ì—ì„œ / ì‹¤ì‹œì‚¬ì—… ë˜ëŠ” ì‚¬ì—…ì¤€ë¹„<br>íŠ¹ì§•: ë“±ë¡ ì—†ì´ë„ ëŒ€í•­ / <strong>ë¬´ìƒ</strong>',
 keywords:['ì„ ë°œëª…','ë²•ì •','ê³µí‰','ì‚°ì—…ì„¤ë¹„','ì„ ì˜','ë¬´ìƒ','ëŒ€í•­']},
{id:'PR05',cat:'íŠ¹í—ˆê¶Œì‹¤ì‹œê¶Œ',law:'æ³•104',sub:'ì¤‘ìš©ê¶Œ',field:'ì˜ì˜/ì·¨ì§€/ë‚´ìš©',
 q:'ì¤‘ìš©ê¶Œ(æ³•104)ì˜ ì˜ì˜Â·ì·¨ì§€Â·íŠ¹ì§•ì€? (ì„ ì‚¬ìš©ê¶Œê³¼ì˜ ì°¨ì´ í¬í•¨)',
 a:'ì˜ì˜: ì €ì´‰ê´€ê³„ì— ìˆì–´ ë¬´íš¨ë¡œ ëœ íŠ¹í—ˆë°œëª…ì˜ ê¶Œë¦¬ìì—ê²Œ ì¸ì •ë˜ëŠ” <strong>ë²•ì • í†µìƒì‹¤ì‹œê¶Œ</strong><br>ì·¨ì§€: í–‰ì •ì²˜ë¶„ì„ ì‹ ë¢°í•œ ìì˜ ì´ìµ ë° ê¸°ì¡´ ì‚°ì—…ì„¤ë¹„ ë³´í˜¸<br>íŠ¹ì§•: ë“±ë¡ ì—†ì´ë„ ëŒ€í•­ / <strong>ìœ ìƒ</strong> (â† ì„ ì‚¬ìš©ê¶Œê³¼ ë‹¬ë¦¬ ìœ ìƒ)',
 keywords:['ì €ì´‰','ë¬´íš¨','í–‰ì •ì²˜ë¶„','ë²•ì •','ìœ ìƒ','ëŒ€í•­']},
{id:'PR06',cat:'íŠ¹í—ˆê¶Œì‹¤ì‹œê¶Œ',law:'æ³•107',sub:'ì¬ì •ì‹¤ì‹œê¶Œ',field:'ì˜ì˜/ì·¨ì§€/ì¬ì •ì‚¬ìœ ',
 q:'ì¬ì •ì‹¤ì‹œê¶Œ(æ³•107)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ì¬ì •ì‚¬ìœ  5ê°€ì§€ëŠ”?',
 a:'ì˜ì˜: <strong>ì¬ì • ì‚¬ìœ ì— í•´ë‹¹í•˜ëŠ” ê²½ìš°ì— í–‰ì •ì²˜ë¶„ìœ¼ë¡œ ë°œìƒì‹œí‚¤ëŠ” í†µìƒì‹¤ì‹œê¶Œ</strong><br>ì·¨ì§€: íŠ¹í—ˆë°œëª…ì˜ ì‹¤ì‹œë¥¼ ê°„ì ‘ì  ìœ ë„ & <strong>íŠ¹í—ˆê¶Œì˜ ê¶Œë¦¬ë‚¨ìš© ë°©ì§€</strong><br>ì‚¬ìœ : â…°)ë¶ˆì‹¤ì‹œ â…±)ë¶ˆì¶©ë¶„ ì‹¤ì‹œ â…²)ê³µìµì„ ìœ„í•´ íŠ¹íˆ í•„ìš” â…³)ë¶ˆê³µì •ê±°ë˜í–‰ìœ„ ì‹œì • â…´)ìˆ˜ì…êµ­ì— ì˜ì•½í’ˆ ìˆ˜ì¶œ',
 keywords:['í–‰ì •ì²˜ë¶„','ê¶Œë¦¬ë‚¨ìš© ë°©ì§€','ë¶ˆì‹¤ì‹œ','ë¶ˆì¶©ë¶„ ì‹¤ì‹œ','ê³µìµ','ë¶ˆê³µì •ê±°ë˜','ì˜ì•½í’ˆ']},

// â”€â”€ íŠ¹í—ˆì¹¨í•´Â·êµ¬ì œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{id:'IN01',cat:'íŠ¹í—ˆì¹¨í•´êµ¬ì œ',law:'ê· ë“±ë¡ ',sub:'ê· ë“±ë¡ ',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ê· ë“±ë¡ ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´ì€?',
 a:'ì˜ì˜: <strong>ë“±ê°€ ê´€ê³„ì— ìˆëŠ” ê¸°ìˆ ë„ íŠ¹í—ˆë°œëª…ì˜ ë³´í˜¸ë²”ìœ„ì— í¬í•¨</strong>ì‹œí‚¤ëŠ” ì´ë¡ <br>ì·¨ì§€: <strong>ì£¼ë³€í•œì •ì£¼ì˜ í•˜ì—ì„œ íŠ¹í—ˆë°œëª…ì˜ ì‹¤ì§ˆì  ê°€ì¹˜ ë³´í˜¸</strong><br>ìš”ê±´: â…°)ê³¼ì œí•´ê²°ì›ë¦¬ ë™ì¼ â…±)ì‹¤ì§ˆì ìœ¼ë¡œ ë™ì¼í•œ ì‘ìš©íš¨ê³¼ â…²)í†µìƒì˜ ê¸°ìˆ ìê°€ ìš©ì´í•˜ê²Œ ìƒê°í•´ë‚¼ ìˆ˜ ìˆì„ ì •ë„ â…³)\'íŠ¹ë³„í•œ ì‚¬ì •\'ì´ ì—†ì„ ê²ƒ',
 keywords:['ë“±ê°€','ë³´í˜¸ë²”ìœ„','ì£¼ë³€í•œì •ì£¼ì˜','ê³¼ì œí•´ê²°ì›ë¦¬','ì‘ìš©íš¨ê³¼','ìš©ì´í•˜ê²Œ','íŠ¹ë³„í•œ ì‚¬ì •']},
{id:'IN02',cat:'íŠ¹í—ˆì¹¨í•´êµ¬ì œ',law:'æ³•127',sub:'ê°„ì ‘ì¹¨í•´',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ê°„ì ‘ì¹¨í•´(æ³•127)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´ì€?',
 a:'ì˜ì˜: <strong>ì¹¨í•´ì˜ ê°œì—°ì„±ì´ ëª…ë°±íˆ ë†’ì€ í–‰ìœ„ì— ëŒ€í•´ ì¹¨í•´ë¡œ ì˜ì œ</strong><br>ì·¨ì§€: íŠ¹í—ˆê¶Œì´ ë¶€ë‹¹í•˜ê²Œ í™•ì¥ë˜ì§€ ì•ŠëŠ” ë²”ìœ„ ë‚´ì—ì„œ <strong>ê¶Œë¦¬êµ¬ì œì˜ ì‹¤íš¨ì„± ë„ëª¨</strong><br>ìš”ê±´: [ëŒ€ìƒ] íŠ¹í—ˆë°œëª…ì˜ ìƒì‚°Â·ì‹¤ì‹œì—ë§Œ ì‚¬ìš©ë˜ëŠ” ë¬¼ê±´ (<strong>ì „ìš©í’ˆ</strong>) / [í–‰ìœ„] ìƒì‚° ë“± (ì‚¬ìš© ì œì™¸)',
 keywords:['ê°œì—°ì„±','ì¹¨í•´ë¡œ ì˜ì œ','ê¶Œë¦¬êµ¬ì œ','ì „ìš©í’ˆ','ì‚¬ìš© ì œì™¸']},
{id:'IN03',cat:'íŠ¹í—ˆì¹¨í•´êµ¬ì œ',law:'ë¹„ì¹¨í•´í•­ë³€',sub:'ë¹„ì¹¨í•´ í•­ë³€',field:'ì˜ì˜',
 q:'íŠ¹í—ˆì¹¨í•´ì†Œì†¡ì—ì„œ ë¹„ì¹¨í•´ í•­ë³€ 4ê°€ì§€ëŠ”?',
 a:'â‘  <strong>ë¬´íš¨ì˜ í•­ë³€</strong>: ë¬´íš¨ì‚¬ìœ  ì¡´ì¬ ì‹œ ê¶Œë¦¬ë²”ìœ„ ì¸ì • ë¶ˆê°€<br>â‘¡ <strong>ê¶Œë¦¬ë‚¨ìš© í•­ë³€</strong>: ë¬´íš¨ì‚¬ìœ  ëª…ë°±í•œ íŠ¹í—ˆê¶Œ ê¸°ì´ˆ í–‰ì‚¬ëŠ” ê¶Œë¦¬ë‚¨ìš©ìœ¼ë¡œ ì œí•œ<br>â‘¢ <strong>ììœ ì‹¤ì‹œê¸°ìˆ  í•­ë³€</strong>: ì‹¤ì‹œë°œëª…ì´ ììœ ì‹¤ì‹œê¸°ìˆ ì— í•´ë‹¹ ì‹œ ë³´í˜¸ë²”ìœ„ ë¶ˆì†<br>â‘£ <strong>ì˜ì‹ì  ì œì™¸ í•­ë³€</strong>: ì¶œì›ì¸ì˜ ì˜ì‹ì  ì œì™¸ ë¶€ë¶„ì€ ë³´í˜¸ë²”ìœ„ì—ì„œ ë°°ì œ',
 keywords:['ë¬´íš¨ì˜ í•­ë³€','ê¶Œë¦¬ë‚¨ìš© í•­ë³€','ììœ ì‹¤ì‹œê¸°ìˆ ','ì˜ì‹ì  ì œì™¸']},
{id:'IN04',cat:'íŠ¹í—ˆì¹¨í•´êµ¬ì œ',law:'ê¶Œë¦¬ì†Œì§„ì´ë¡ ',sub:'ê¶Œë¦¬ì†Œì§„ì´ë¡ ',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ê¶Œë¦¬ì†Œì§„ì´ë¡ ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´ì€?',
 a:'ì˜ì˜: <strong>íŠ¹í—ˆê¶Œ ëª©ì ì´ ë‹¬ì„±ëœ ì œí’ˆì—ëŠ” ê·¸ íš¨ë ¥ì´ ì†Œì§„ëœ ê²ƒìœ¼ë¡œ ì¹¨í•´ë¥¼ ì£¼ì¥í•  ìˆ˜ ì—†ë‹¤ëŠ” ì´ë¡ </strong><br>ì·¨ì§€: ììœ ë¡œìš´ ìœ í†µê³¼ ê±°ë˜ì•ˆì „ ë³´í˜¸ & íŠ¹í—ˆê¶Œìì˜ ì´ì¤‘ì´ë“ ë°©ì§€<br>ìš”ê±´: íŠ¹í—ˆê¶Œì ë˜ëŠ” ì‹¤ì‹œìì— ì˜í•œ / êµ­ë‚´ì—ì„œ / ì ë²•í•œ íŒë§¤ / íŠ¹í—ˆë°œëª…ì„ ì‹¤ì§ˆì ìœ¼ë¡œ êµ¬í˜„í•œ ì œí’ˆ',
 keywords:['ì†Œì§„','ì´ì¤‘ì´ë“','êµ­ë‚´','ì ë²•í•œ íŒë§¤','ì‹¤ì§ˆì ìœ¼ë¡œ êµ¬í˜„']},
{id:'IN05',cat:'íŠ¹í—ˆì¹¨í•´êµ¬ì œ',law:'æ³•128',sub:'ì†í•´ì•¡ ì‚°ì •',field:'ì˜ì˜',
 q:'æ³•128 ì†í•´ì•¡ ì‚°ì •ì˜ 4ê°€ì§€ ë°©ì‹ì€?',
 a:'â‘¡í•­: ì¹¨í•´ìì˜ ì–‘ë„ìˆ˜ëŸ‰ ê¸°ì¤€ <strong>ì¼ì‹¤ì´ìµ</strong> + ì´ˆê³¼ë¶„ í•©ë¦¬ì  ì‹¤ì‹œë£Œ<br>â‘£í•­: ì¹¨í•´ìì˜ <strong>ì´ìµì•¡ì„ ì†í•´ì•¡ìœ¼ë¡œ ì¶”ì •</strong><br>â‘¤í•­: <strong>í•©ë¦¬ì ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆëŠ” ê¸ˆì•¡ì„ í•˜í•œ</strong>ìœ¼ë¡œ í•¨<br>â‘¦í•­: ì…ì¦ ê³¤ë€ ì‹œ ë²•ì›ì´ <strong>ìƒë‹¹í•œ ì†í•´ì•¡ì„ ì¸ì •</strong><br>â‘§í•­: ê³ ì˜ ì¹¨í•´ ì‹œ <strong>ìµœëŒ€ 5ë°° ì¦ì•¡ë°°ìƒ</strong>',
 keywords:['ì¼ì‹¤ì´ìµ','ì´ìµì•¡','ì¶”ì •','í•˜í•œ','ìƒë‹¹í•œ ì†í•´ì•¡','5ë°°','ì¦ì•¡']},
{id:'IN06',cat:'íŠ¹í—ˆì¹¨í•´êµ¬ì œ',law:'æ³•98',sub:'ì´ìš©ê´€ê³„',field:'ì˜ì˜/ìš”ê±´',
 q:'ì´ìš©ê´€ê³„(æ³•98)ì˜ ì˜ì˜ì™€ ìš”ê±´ì€?',
 a:'ì˜ì˜: <strong>í›„ì› íŠ¹í—ˆë°œëª…ì´ ì„ ì› íŠ¹í—ˆë°œëª…ì„ ì´ìš©í•˜ëŠ” ì¼ë°©ì  ì¶©ëŒê´€ê³„</strong><br>ìš”ê±´: â‘  \'íƒ€ì¸\'ì˜ \'ì„ ì¶œì›ì— ì˜í•œ ë“±ë¡\'ëœ íŠ¹í—ˆë°œëª…ì„ â‘¡ í›„ì› íŠ¹í—ˆë°œëª…ì´ \'ì´ìš©\'í•˜ëŠ” ê²ƒ',
 keywords:['í›„ì›','ì„ ì›','ì´ìš©','ì¼ë°©ì ','íƒ€ì¸','ì„ ì¶œì›','ë“±ë¡']},

// â”€â”€ íŠ¹ìœ ìŸì  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{id:'SP01',cat:'íŠ¹ìœ ìŸì ',law:'ì˜ì•½ìš©ë„ë°œëª…',sub:'íŠ¹ìˆ˜ìœ í˜•ë°œëª…',field:'ì˜ì˜',
 q:'ì˜ì•½ìš©ë„ë°œëª…Â·ì„ íƒë°œëª…Â·ìˆ˜ì¹˜í•œì •ë°œëª…Â·íŒŒë¼ë¯¸í„°ë°œëª…ì˜ ì˜ì˜ë¥¼ ê°ê° ê¸°ìˆ í•˜ì‹œì˜¤.',
 a:'ì˜ì•½ìš©ë„ë°œëª…: ë¬¼ì§ˆì´ ê°€ì§€ëŠ” ì†ì„±ì˜ ë°œê²¬ì— ê¸°ì´ˆí•˜ì—¬ <strong>ì˜ì•½ìœ¼ë¡œì„œì˜ ìƒˆë¡œìš´ ìš©ë„ë¥¼ ì œê³µí•˜ëŠ” ë°œëª…</strong><br>ì„ íƒë°œëª…: <strong>ì„ í–‰ë°œëª…ì˜ ìƒìœ„ê°œë…ì— í¬í•¨ë˜ëŠ” í•˜ìœ„ê°œë…ì„ êµ¬ì„±ìš”ì†Œ</strong>ë¡œ í•˜ëŠ” ë°œëª…<br>ìˆ˜ì¹˜í•œì •ë°œëª…: <strong>ì²­êµ¬í•­ì˜ ë°œëª…ì˜ êµ¬ì„±ì´ ìˆ˜ëŸ‰ì  ë²”ìœ„ë¥¼ í¬í•¨</strong>í•˜ëŠ” ë°œëª…<br>íŒŒë¼ë¯¸í„°ë°œëª…: ìƒˆë¡­ê²Œ ì°½ì¶œí•œ <strong>íŠ¹ì„±ê°’ ë˜ëŠ” ë³µìˆ˜ ë³€ìˆ˜ ì‚¬ì´ì˜ ìƒê´€ê´€ê³„ë¥¼ ì´ìš©í•˜ì—¬ êµ¬ì„±ìš”ì†Œë¥¼ íŠ¹ì •</strong>í•œ ë°œëª…',
 keywords:['ì˜ì•½','ìƒˆë¡œìš´ ìš©ë„','ìƒìœ„ê°œë…','í•˜ìœ„ê°œë…','ìˆ˜ëŸ‰ì  ë²”ìœ„','íŠ¹ì„±ê°’','ìƒê´€ê´€ê³„']},
{id:'SP02',cat:'íŠ¹ìœ ìŸì ',law:'PBPì²­êµ¬í•­',sub:'íŠ¹ìˆ˜ ì²­êµ¬í•­',field:'ì˜ì˜',
 q:'PBPì²­êµ¬í•­Â·ê¸°ëŠ¥ì‹ì²­êµ¬í•­Â·ì ­ìŠ¨ì²­êµ¬í•­Â·ë§ˆì¿ ì‰¬ì²­êµ¬í•­ì˜ ì˜ì˜ë¥¼ ê°ê° ê¸°ìˆ í•˜ì‹œì˜¤.',
 a:'PBPì²­êµ¬í•­: <strong>ë¬¼ê±´ë°œëª…ì„ ë¬¼(ç‰©)ì˜ êµ¬ì„±ì´ ì•„ë‹Œ ë°©ë²•ì— ì˜í•´ íŠ¹ì •í•œ ì²­êµ¬í•­</strong><br>ê¸°ëŠ¥ì‹ì²­êµ¬í•­: <strong>ê¸°ëŠ¥ì  í‘œí˜„ì„ í¬í•¨í•˜ëŠ” ì²­êµ¬í•­</strong><br>ì ­ìŠ¨ì²­êµ¬í•­: <strong>ì „ì œë¶€ì— íŠ¹ì •ê¸°ìˆ ì„ ì¸ìš©í•œ í›„ ê°œëŸ‰Â·ì¶”ê°€ëœ êµ¬ì„±ìš”ì†Œë¥¼ íŠ¹ì§•ë¶€ì— ì ëŠ” ê¸°ì¬í˜•ì‹</strong><br>ë§ˆì¿ ì‰¬ì²­êµ¬í•­: <strong>2 ì´ìƒì˜ êµ¬ì„±ìš”ì†Œë¥¼ íƒì¼ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ì²­êµ¬í•­ì— ì ëŠ” ê¸°ì¬í˜•ì‹</strong>',
 keywords:['ë°©ë²•ì— ì˜í•´ íŠ¹ì •','ê¸°ëŠ¥ì  í‘œí˜„','ì „ì œë¶€','íŠ¹ì§•ë¶€','íƒì¼ì ']},

// â”€â”€ ì‹¬íŒÂ·ì†Œì†¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{id:'TR01',cat:'ì‹¬íŒì†Œì†¡',law:'æ³•163',sub:'ì¼ì‚¬ë¶€ì¬ë¦¬',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ì¼ì‚¬ë¶€ì¬ë¦¬(æ³•163)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ìš”ê±´ì€?',
 a:'ì˜ì˜: ì‹¬ê²°ì´ í™•ì •ëœ ì‚¬ê±´ì— ê´€í•˜ì—¬ ëˆ„êµ¬ë“ ì§€ <strong>ë™ì¼ì‚¬ì‹¤Â·ì¦ê±°ì— ì˜í•´ ë‹¤ì‹œ ì‹¬íŒì„ ì²­êµ¬í•  ìˆ˜ ì—†ìŒ</strong><br>ì·¨ì§€: ëª¨ìˆœÂ·ì €ì´‰ë˜ëŠ” ë³µìˆ˜ì˜ ì‹¬ê²° ë°œìƒ ë°©ì§€ & ì‹¬íŒ ì ˆì°¨ì˜ ê²½ì œì„± ë„ëª¨<br>ìš”ê±´: í™•ì •ëœ ë³¸ì•ˆì‹¬ê²° / ëˆ„êµ¬ë“ ì§€ / <strong>ë™ì¼ì‚¬ì‹¤</strong> / <strong>ë™ì¼ì¦ê±°</strong> / ë™ì¼ì‹¬íŒ',
 keywords:['í™•ì •','ë™ì¼ì‚¬ì‹¤','ë™ì¼ì¦ê±°','ì‹¬íŒ','ëª¨ìˆœ','ê²½ì œì„±']},
{id:'TR02',cat:'ì‹¬íŒì†Œì†¡',law:'æ³•132ì˜2',sub:'íŠ¹í—ˆì·¨ì†Œì‹ ì²­',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'íŠ¹í—ˆì·¨ì†Œì‹ ì²­(æ³•132ì˜2)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ì‹ ì²­ìš”ê±´ì€?',
 a:'ì˜ì˜: íŠ¹í—ˆ ë¶€ì—¬ í›„ ì¼ì •ê¸°ê°„ ë™ì•ˆ <strong>í•˜ì ìˆëŠ” íŠ¹í—ˆì˜ ì·¨ì†Œë¥¼ êµ¬í•˜ëŠ” ì œë„</strong><br>ì·¨ì§€: ê³µì¤‘ì˜ ì‹¬ì‚¬ì°¸ì—¬ í™•ëŒ€ & <strong>ë¶€ì‹¤íŠ¹í—ˆ ì˜ˆë°©</strong><br>ì‹ ì²­ì¸: ëˆ„êµ¬ë“ ì§€ / ê¸°ê°„: ì„¤ì •ë“±ë¡ì¼ë¡œë¶€í„° <strong>ë“±ë¡ê³µê³  í›„ 6ê°œì›”ì´ ë˜ëŠ” ë‚ ê¹Œì§€</strong>',
 keywords:['í•˜ì','ì·¨ì†Œ','ë¶€ì‹¤íŠ¹í—ˆ','ê³µì¤‘','6ê°œì›”','ëˆ„êµ¬ë“ ì§€']},
{id:'TR03',cat:'ì‹¬íŒì†Œì†¡',law:'æ³•133',sub:'íŠ¹í—ˆë¬´íš¨ì‹¬íŒ',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'íŠ¹í—ˆë¬´íš¨ì‹¬íŒ(æ³•133)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ì²­êµ¬ìš”ê±´ì€?',
 a:'ì˜ì˜: <strong>ë²•ì •ëœ ë¬´íš¨ì‚¬ìœ ë¥¼ ì²­êµ¬ì´ìœ ë¡œ í•˜ì—¬ íŠ¹í—ˆì˜ ë¬´íš¨ë¥¼ êµ¬í•˜ëŠ” ì‹¬íŒ</strong><br>ì·¨ì§€: ì‹¬ì‚¬ì˜ ì™„ì „ì„± ì‚¬í›„ì  ë³´ì¥ & ë‹¹ì‚¬ì ê°„ì˜ íŠ¹í—ˆë¶„ìŸ í•´ê²°ìˆ˜ë‹¨<br>ì²­êµ¬ì¸: <strong>ì´í•´ê´€ê³„ì¸ ë˜ëŠ” ì‹¬ì‚¬ê´€</strong> â†’ íŠ¹í—ˆê¶Œì / ì‹œê¸°: íŠ¹í—ˆê¶Œ ì†Œë©¸ í›„ì—ë„ ê°€ëŠ¥',
 keywords:['ë²•ì •ëœ ë¬´íš¨ì‚¬ìœ ','ì´í•´ê´€ê³„ì¸','ì‹¬ì‚¬ê´€','ì†Œë©¸ í›„','ì‚¬í›„ì ']},
{id:'TR04',cat:'ì‹¬íŒì†Œì†¡',law:'æ³•135',sub:'ê¶Œë¦¬ë²”ìœ„í™•ì¸ì‹¬íŒ',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ê¶Œë¦¬ë²”ìœ„í™•ì¸ì‹¬íŒ(æ³•135)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ì²­êµ¬ìš”ê±´ì€?',
 a:'ì˜ì˜: í™•ì¸ëŒ€ìƒë°œëª…ì´ íŠ¹í—ˆë°œëª…ì˜ ê¶Œë¦¬ë²”ìœ„ì— ì†í•˜ëŠ”ì§€ì— ëŒ€í•œ <strong>ê³µì ì¸ í™•ì¸ì„ êµ¬í•˜ëŠ” ì‹¬íŒ</strong><br>ì·¨ì§€: ë‹¹ì‚¬ì ë¶„ìŸì„ ì‚¬ì „ ì˜ˆë°© or ì¡°ê¸°í•´ê²° & ì¹¨í•´ì†Œì†¡ì—ì„œ ë²•ì›ì˜ íŒë‹¨ê¸°ì¤€ ì œê³µ<br>ìš”ê±´: íŠ¹í—ˆë°œëª… vs í™•ì¸ëŒ€ìƒë°œëª… / ì²­êµ¬í•­ë§ˆë‹¤ å¯ / ì ë²•í•œ íŠ¹ì • & í™•ì¸ì˜ ì´ìµ è¦ / íŠ¹í—ˆê¶Œ ì¡´ì† ì¤‘',
 keywords:['ê³µì ì¸ í™•ì¸','í™•ì¸ëŒ€ìƒë°œëª…','ì¹¨í•´ì†Œì†¡','íŒë‹¨ê¸°ì¤€','í™•ì¸ì˜ ì´ìµ','ì¡´ì† ì¤‘']},
{id:'TR05',cat:'ì‹¬íŒì†Œì†¡',law:'æ³•136',sub:'ì •ì •ì‹¬íŒ',field:'ì˜ì˜/ì·¨ì§€/ìš”ê±´',
 q:'ì •ì •ì‹¬íŒ(æ³•136)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ì²­êµ¬ìš”ê±´ì€?',
 a:'ì˜ì˜: <strong>íŠ¹í—ˆë°œëª…ì˜ ëª…ì„¸ì„œì— ëŒ€í•˜ì—¬ ì •ì •ì„ êµ¬í•˜ëŠ” ì‹¬íŒ</strong><br>ì·¨ì§€: íŠ¹í—ˆë¶„ìŸì„ ë¯¸ì—°ì— ë°©ì§€ & íŠ¹í—ˆê¶Œì ë³´í˜¸ (ë‹¨, ì œ3ìì˜ ì´ìµì„ ìœ„í•´ ì œí•œì  ë²”ìœ„ì—ì„œë§Œ ì •ì • ì¸ì •)<br>ì²­êµ¬ì¸: <strong>íŠ¹í—ˆê¶Œì</strong> / ì‹œê¸°: íŠ¹í—ˆê¶Œ ì†Œë©¸ í›„ì—ë„ ê°€ëŠ¥ (ë¬´íš¨ì‹¬ê²°ë¡œ ì†Œê¸‰ ì†Œë©¸í•œ ê²½ìš° ì œì™¸)',
 keywords:['ëª…ì„¸ì„œ','ì •ì •','íŠ¹í—ˆê¶Œì','ì œí•œì ','ì†Œë©¸ í›„']},
{id:'TR06',cat:'ì‹¬íŒì†Œì†¡',law:'æ³•186',sub:'ì‹¬ê²°ì·¨ì†Œì†Œì†¡',field:'ì˜ì˜/ë‹¹ì‚¬ìì ê²©/ì‹¬ë¦¬ë²”ìœ„',
 q:'ì‹¬ê²°ì·¨ì†Œì†Œì†¡(æ³•186)ì˜ ë‹¹ì‚¬ìì ê²©Â·ì œì†Œê¸°ê°„Â·ì‹¬ë¦¬ë²”ìœ„ ì›ì¹™ì€?',
 a:'ì›ê³ ì ê²©: <strong>ë‹¹ì‚¬ì, ì°¸ê°€ì¸, ì°¸ê°€ì‹ ì²­ì´ ê±°ë¶€ëœ ì</strong><br>í”¼ê³ ì ê²©: ê²°ì •ê³„â†’<strong>ì§€ì‹ì¬ì‚°ì²˜ì¥</strong> / ë‹¹ì‚¬ìê³„â†’<strong>ì‹¬ê²°ì—ì„œì˜ ìƒëŒ€ë°©</strong><br>ì œì†Œê¸°ê°„: ë“±ë³¸ ì†¡ë‹¬ì¼ë¡œë¶€í„° <strong>30ì¼ ë‚´</strong> (ë¶ˆë³€ê¸°ê°„)<br>ì‹¬ë¦¬ë²”ìœ„: <strong>ë¬´ì œí•œì„¤ ì›ì¹™</strong>',
 keywords:['ë‹¹ì‚¬ì','ì°¸ê°€ì¸','ì§€ì‹ì¬ì‚°ì²˜ì¥','30ì¼','ë¶ˆë³€ê¸°ê°„','ë¬´ì œí•œì„¤']},
{id:'TR07',cat:'ì‹¬íŒì†Œì†¡',law:'æ³•189â‘¢',sub:'ê¸°ì†ë ¥',field:'ì˜ì˜/ì·¨ì§€/ë‚´ìš©',
 q:'ê¸°ì†ë ¥(æ³•189â‘¢)ì˜ ì˜ì˜Â·ì·¨ì§€Â·ë‚´ìš©ì€?',
 a:'ì˜ì˜: ì‹¬ê²°ì·¨ì†Œ íŒê²°í™•ì •ì‹œ <strong>íŠ¹í—ˆì‹¬íŒì›ì´ ë™ì¼í•œ ë‚´ìš©ì˜ ì‹¬ê²° ì²˜ë¶„ ë°˜ë³µì„ ê¸ˆì§€í•˜ëŠ” íš¨ë ¥</strong><br>ì·¨ì§€: íŠ¹í—ˆë²•ì› íŒê²°ì˜ ì‹¤íš¨ì„± ë„ëª¨<br>ë‚´ìš©: <strong>ì·¨ì†Œì˜ ê¸°ë³¸ì´ ëœ ì´ìœ </strong>ì— ê¸°ì†ë¨',
 keywords:['ì‹¬ê²°ì·¨ì†Œ','íŒê²°','ë°˜ë³µ','ê¸ˆì§€','ì‹¤íš¨ì„±','ì·¨ì†Œì˜ ê¸°ë³¸ì´ ëœ ì´ìœ ']},

// â”€â”€ PCT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{id:'PCT01',cat:'PCTì œë„',law:'PCT',sub:'êµ­ì œì¶œì›',field:'ì˜ì˜/ì ˆì°¨',
 q:'PCT êµ­ì œì¶œì›ì˜ ì˜ì˜ì™€ êµ­ì œì¡°ì‚¬Â·êµ­ì œì˜ˆë¹„ì‹¬ì‚¬ì˜ ì°¨ì´ëŠ”?',
 a:'ì˜ì˜: <strong>íŠ¹í—ˆí˜‘ë ¥ì¡°ì•½ì´ ì •í•˜ëŠ” ê·œì •ì— ë”°ë¼ ì œì¶œë˜ëŠ” ì¶œì›</strong> â†’ êµ­ì œì¶œì›ì¼ì— ì§€ì •êµ­ì—ì„œ ì¶œì›í•œ ê²ƒê³¼ ë™ì¼í•œ íš¨ê³¼<br>êµ­ì œì¡°ì‚¬: <strong>ëª¨ë“  êµ­ì œì¶œì›ì— ê´€í•œ í•„ìˆ˜ì  ì ˆì°¨</strong> / ì„ í–‰ê¸°ìˆ  í™•ì¸ / êµ¬ì†ë ¥ ì—†ëŠ” ì˜ˆë¹„ ê²¬í•´<br>êµ­ì œì˜ˆë¹„ì‹¬ì‚¬: <strong>ì²­êµ¬í•œ ì¶œì›ì— ê´€í•œ ì„ì˜ì  ì ˆì°¨</strong> / ì‚°ì—…ìƒ ì´ìš©ê°€ëŠ¥ì„±Â·ì‹ ê·œì„±Â·ì§„ë³´ì„±ì— ëŒ€í•œ ì˜ˆë¹„ ê²¬í•´',
 keywords:['íŠ¹í—ˆí˜‘ë ¥ì¡°ì•½','ì§€ì •êµ­','ë™ì¼í•œ íš¨ê³¼','í•„ìˆ˜ì ','ì„ì˜ì ','êµ¬ì†ë ¥ ì—†ëŠ”','ì˜ˆë¹„']},
{id:'PCT02',cat:'PCTì œë„',law:'æ³•194,196',sub:'êµ­ì œì¶œì› ì¸ì •/ì·¨í•˜ê°„ì£¼',field:'ìš”ê±´',
 q:'PCT êµ­ì œì¶œì› ì¸ì •ìš”ê±´ 6ê°€ì§€ì™€ ì·¨í•˜ê°„ì£¼ ì‚¬ìœ  3ê°€ì§€ëŠ”?',
 a:'ì¸ì •ìš”ê±´: â…°)ì¶œì›ì¸ ì„±ëª… ê¸°ì¬ â…±)ì¸ì •í•˜ëŠ” ì–¸ì–´ â…²)ì£¼ì²´ì  ìš”ê±´ â…³)ë°œëª…ì˜ ì„¤ëª… ë° ì²­êµ¬ë²”ìœ„ ê¸°ì¬ â…´)êµ­ì œì¶œì›ì˜ í‘œì‹œ â…µ)ì²´ì•½êµ­ì˜ ì§€ì •<br>ì·¨í•˜ê°„ì£¼: â…°)ë³´ì •ëª…ë ¹ ê¸°ê°„ ë‚´ ë³´ì • ì•ˆ í•œ ê²½ìš° â…±)ìˆ˜ìˆ˜ë£Œ ë¯¸ë‚© â…²)ìš”ê±´ì˜ í ì´ êµ­ì œì¶œì›ì¼ë¡œë¶€í„° <strong>4ê°œì›” ë‚´</strong> ë°œê²¬ëœ ê²½ìš°',
 keywords:['ì¶œì›ì¸ ì„±ëª…','ì–¸ì–´','ì²­êµ¬ë²”ìœ„','ì§€ì •','ë³´ì •ëª…ë ¹','ìˆ˜ìˆ˜ë£Œ','4ê°œì›”']},
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DB â€” DUAL TRACK SPACED REPETITION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const SK = 'patentLaw_v3';
let db = {};

function loadDB() {
  try { db = JSON.parse(localStorage.getItem(SK)) || {}; } catch(e) { db = {}; }
  CARDS.forEach(c => {
    if (!db[c.id]) db[c.id] = {
      // Flashcard track (SM-2)
      fcInterval:0, fcReps:0, fcEF:2.5, fcNextDue:0,
      // Subjective track
      subCorrect:0, subAttempts:0, subNextDue:0, subInterval:0
    };
    // migration
    const s = db[c.id];
    if (s.fcInterval === undefined) { s.fcInterval=s.interval||0; s.fcReps=s.repetitions||0; s.fcEF=s.ef||2.5; s.fcNextDue=s.nextDue||0; }
    if (s.subCorrect === undefined) { s.subCorrect=0; s.subAttempts=0; s.subNextDue=0; s.subInterval=0; }
  });
}
function saveDB() {
  localStorage.setItem(SK, JSON.stringify(db));
  const histKey='patentHist_v2';
  let h={};try{h=JSON.parse(localStorage.getItem(histKey))||{};}catch(e){}
  h[todayStr()]=(h[todayStr()]||0)+1;
  localStorage.setItem(histKey,JSON.stringify(h));
}
function todayStr(){return new Date().toISOString().slice(0,10);}
function isFCDue(id){const s=db[id];return !s||s.fcNextDue<=Date.now();}
function isSubDue(id){const s=db[id];return !s||s.subNextDue<=Date.now();}
function isMastered(id){const s=db[id];return s&&s.fcInterval>=21&&s.subCorrect>=3;}

// SM-2 for flashcard
function sm2(s, rating) {
  let {fcInterval:iv, fcReps:reps, fcEF:ef} = s;
  if(rating===0){reps=0;iv=0;}
  else if(rating===1){ef=Math.max(1.3,ef-.15);iv=Math.max(1,Math.round(iv*1.2));if(reps===0)iv=1;}
  else if(rating===2){if(reps===0)iv=1;else if(reps===1)iv=3;else iv=Math.round(iv*ef);reps++;}
  else{ef=Math.min(3.5,ef+.1);if(reps===0)iv=3;else if(reps===1)iv=5;else iv=Math.round(iv*ef*1.3);reps++;}
  const now=Date.now();
  return {...s, fcInterval:iv, fcReps:reps, fcEF:ef, fcNextDue:iv===0?now:now+iv*86400000};
}

// SM-2 for subjective (simpler)
function updateSubjective(s, isCorrect) {
  let {subCorrect:sc, subAttempts:sa, subInterval:si} = s;
  sa++;
  if(isCorrect){
    sc++;
    si=si===0?1:si===1?3:si===3?7:si===7?14:21;
  } else {
    si=Math.max(0,Math.round(si*0.5));
  }
  const now=Date.now();
  return {...s, subCorrect:sc, subAttempts:sa, subInterval:si, subNextDue:si===0?now:now+si*86400000};
}

function getNextFCIntervals(s){
  return[0,1,2,3].map(r=>{const ns=sm2({...s},r);return ns.fcInterval;});
}
function daysStr(d){return d<=0?'ì˜¤ëŠ˜':d===1?'1ì¼ í›„':`${d}ì¼ í›„`;}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  KEYWORD GRADING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function extractKeywords(text) {
  // Strip HTML
  const tmp = document.createElement('div');
  tmp.innerHTML = text;
  return tmp.textContent||tmp.innerText||text;
}

function gradeAnswer(userText, keywords, correctAnswer) {
  const user = normalize(userText);
  const correct = normalize(extractKeywords(correctAnswer));

  if(!userText.trim()) return {score:0, matched:[], missed:keywords};

  const matched=[], missed=[];
  keywords.forEach(kw => {
    const normKw = normalize(kw);
    if(user.includes(normKw)) matched.push(kw);
    else missed.push(kw);
  });

  // also check overall similarity with full correct text (bonus)
  const overlapBonus = computeOverlap(user, correct);
  const kwScore = keywords.length > 0 ? matched.length/keywords.length : 0;
  const score = Math.min(100, Math.round((kwScore*0.8 + overlapBonus*0.2)*100));

  return {score, matched, missed};
}

function normalize(s) {
  return s.toLowerCase()
    .replace(/\s+/g,' ')
    .replace(/[â‘ â‘¡â‘¢â‘£â‘¤â…°â…±â…²â…³â…´\.\,\!\?ã€Œã€ã€ã€\[\]\(\)\&\Â·]/g,' ')
    .trim();
}

function computeOverlap(a, b) {
  const wa = new Set(a.split(/\s+/).filter(w=>w.length>1));
  const wb = new Set(b.split(/\s+/).filter(w=>w.length>1));
  if(wa.size===0||wb.size===0) return 0;
  let common=0;
  wa.forEach(w=>{ if(wb.has(w)) common++; });
  return common/Math.max(wa.size,wb.size);
}

function getGradeInfo(score) {
  if(score>=85) return {cls:'gc-perfect', label:'â­ ì™„ë²½!', msg:'í•µì‹¬ í‚¤ì›Œë“œë¥¼ ëª¨ë‘ ì‘ì„±í•˜ì…¨ìŠµë‹ˆë‹¤.'};
  if(score>=65) return {cls:'gc-good', label:'âœ… ì–‘í˜¸', msg:'ëŒ€ë¶€ë¶„ì˜ ë‚´ìš©ì„ ê¸°ì–µí•˜ì…¨ìŠµë‹ˆë‹¤.'};
  if(score>=40) return {cls:'gc-partial', label:'ğŸ“ ë¶€ë¶„ ì •ë‹µ', msg:'ì¼ë¶€ í•µì‹¬ì–´ë¥¼ ë†“ì³¤ìŠµë‹ˆë‹¤.'};
  return {cls:'gc-fail', label:'âŒ ë¯¸í¡', msg:'ë‹¤ì‹œ í™•ì¸í•˜ê³  ì—°ìŠµí•˜ì„¸ìš”.'};
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  GAME STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let selectedCats=new Set(), currentDeck=[], currentIdx=0, currentMode='';
let sessionStats={correct:0,wrong:0,newCards:0,masteryGained:0};
let isFlipped=false, quizAnswered=false, subGraded=false;
const CATS=[...new Set(CARDS.map(c=>c.cat))];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SCREENS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  stopSessionTimer();
  if(id==='screen-home'){updateHome();updateRoutineSlots();renderDday();}
  if(id==='screen-progress') renderProgress('all');
  if(id==='screen-curve') renderCurveScreen();
}
function goHome(){showScreen('screen-home');}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  HOME
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateHome(){
  loadDB();
  const total=CARDS.length;
  const fcDue=CARDS.filter(c=>isFCDue(c.id)).length;
  const subDue=CARDS.filter(c=>isSubDue(c.id)).length;
  const fcLearned=CARDS.filter(c=>db[c.id]&&db[c.id].fcReps>0).length;
  const mastered=CARDS.filter(c=>isMastered(c.id)).length;
  document.getElementById('stat-total').textContent=total;
  document.getElementById('stat-due').textContent=fcDue;
  document.getElementById('stat-sub-due').textContent=subDue;
  document.getElementById('stat-learned').textContent=fcLearned;
  document.getElementById('stat-mastered').textContent=mastered;
  const streak=calcStreak();
  const sa=document.getElementById('streak-area');
  if(streak>0){sa.style.display='inline-flex';document.getElementById('streak-num').textContent=streak;}
  renderCategories();
}

function calcStreak(){
  let hist={};try{hist=JSON.parse(localStorage.getItem('patentHist_v2'))||{};}catch(e){}
  let s=0;const d=new Date();
  while(true){const k=d.toISOString().slice(0,10);if(hist[k]){s++;d.setDate(d.getDate()-1);}else break;}
  return s;
}

function renderCategories(){
  const grid=document.getElementById('category-grid');
  grid.innerHTML='';
  CATS.forEach(cat=>{
    const cards=CARDS.filter(c=>c.cat===cat);
    const total=cards.length;
    const fcDone=cards.filter(c=>db[c.id]&&db[c.id].fcInterval>=7).length;
    const subDone=cards.filter(c=>db[c.id]&&db[c.id].subCorrect>=1).length;
    const mastered=cards.filter(c=>isMastered(c.id)).length;
    const fcDue=cards.filter(c=>isFCDue(c.id)).length;
    const fcPct=Math.round(fcDone/total*100);
    const subPct=Math.round(subDone/total*100);
    const btn=document.createElement('div');
    btn.className='cat-btn'+(selectedCats.has(cat)?' selected':'');
    btn.innerHTML=`<span class="cat-name">${cat}</span>
<div class="cat-meta">${total}ê°œ Â· â­${mastered}${fcDue>0?` <span class="due-badge">${fcDue}</span>`:''}</div>
<div class="cat-tracks">
<div class="cat-track-bar"><div class="cat-track-fill-fc" style="width:${fcPct}%" title="FC ${fcPct}%"></div></div>
<div class="cat-track-bar"><div class="cat-track-fill-sub" style="width:${subPct}%" title="ì£¼ê´€ì‹ ${subPct}%"></div></div>
</div>`;
    btn.onclick=()=>toggleCat(cat,btn);
    grid.appendChild(btn);
  });
}

function toggleCat(cat,btn){
  if(selectedCats.has(cat)){selectedCats.delete(cat);btn.classList.remove('selected');}
  else{selectedCats.add(cat);btn.classList.add('selected');}
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  MODE SELECTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function getFilteredCards(){
  return selectedCats.size===0?[...CARDS]:CARDS.filter(c=>selectedCats.has(c.cat));
}

function shuffle(arr){const a=[...arr];for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}

function startMode(mode){
  loadDB();
  currentMode=mode;
  sessionStats={correct:0,wrong:0,newCards:0,masteryGained:0};
  const base=getFilteredCards();

  if(mode==='flashcard'){
    const due=base.filter(c=>isFCDue(c.id));
    const notDue=base.filter(c=>!isFCDue(c.id));
    due.sort((a,b)=>db[a.id].fcNextDue-db[b.id].fcNextDue);
    currentDeck=[...due,...notDue];
  } else if(mode==='review'){
    currentDeck=shuffle(base.filter(c=>isFCDue(c.id)));
    if(currentDeck.length===0){showToast('ì˜¤ëŠ˜ ë³µìŠµí•  í”Œë˜ì‹œì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤! ğŸ‰');return;}
  } else if(mode==='subjective'){
    const due=base.filter(c=>isSubDue(c.id));
    const notDue=base.filter(c=>!isSubDue(c.id));
    currentDeck=[...shuffle(due),...shuffle(notDue)];
  } else if(mode==='sub-review'){
    currentDeck=shuffle(base.filter(c=>isSubDue(c.id)));
    if(currentDeck.length===0){showToast('ì˜¤ëŠ˜ ì£¼ê´€ì‹ ë³µìŠµ ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤! ğŸ‰');return;}
  } else if(mode==='feynman'){
    const weak=base.filter(c=>!db[c.id]||db[c.id].subCorrect<2);
    const ok=base.filter(c=>db[c.id]&&db[c.id].subCorrect>=2);
    currentDeck=[...shuffle(weak),...shuffle(ok)];
  } else if(mode==='sleep-review'){
    const todayIds=getTodayCards();
    let todayCards=base.filter(c=>todayIds.includes(c.id));
    if(todayCards.length===0) todayCards=base.filter(c=>db[c.id]&&db[c.id].fcReps>0&&isFCDue(c.id));
    if(todayCards.length===0) todayCards=base.filter(c=>db[c.id]&&db[c.id].fcReps>0).slice(0,12);
    if(todayCards.length===0){showToast('ì˜¤ëŠ˜ í•™ìŠµí•œ ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤.');return;}
    currentDeck=shuffle(todayCards);
  } else if(mode==='sprint'){
    const due=base.filter(c=>isFCDue(c.id));
    const weak=base.filter(c=>!isMastered(c.id)&&!isFCDue(c.id));
    const strong=base.filter(c=>isMastered(c.id));
    currentDeck=[...shuffle(due),...shuffle(weak),...strong];
  } else if(mode==='quiz'){
    currentDeck=shuffle(base);
  }

  currentIdx=0;
  startSessionTimer();
  if(mode==='flashcard'||mode==='review'||mode==='sleep-review'||mode==='sprint') loadFlashcard();
  else if(mode==='subjective'||mode==='sub-review') loadSubjective();
  else if(mode==='feynman') loadFeynman();
  else if(mode==='quiz') loadQuiz();
}

// â”€â”€ ë£¨í‹´ ìŠ¬ë¡¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function startRoutine(type){
  markRoutineDone(type);
  if(type==='morning') startMode('review');
  else if(type==='golden') startMode('flashcard');
  else if(type==='sleep') startMode('sleep-review');
}
function markRoutineDone(type){
  const today=todayStr();
  let r={};try{r=JSON.parse(localStorage.getItem('patentRoutines'))||{};}catch(e){}
  if(!r[today]) r[today]={};
  r[today][type]=true;
  localStorage.setItem('patentRoutines',JSON.stringify(r));
}
function updateRoutineSlots(){
  const today=todayStr();
  let r={};try{r=JSON.parse(localStorage.getItem('patentRoutines'))||{};}catch(e){}
  const t=r[today]||{};
  ['morning','golden','sleep'].forEach(k=>{
    const el=document.getElementById('slot-'+k);
    if(el) el.classList.toggle('done',!!t[k]);
  });
}

// â”€â”€ D-day ìŠ¤í”„ë¦°íŠ¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function toggleDday(){
  const s=document.getElementById('dday-setup');
  s.style.display=s.style.display==='none'?'block':'none';
}
function saveDdayDate(){
  const d=document.getElementById('dday-date').value;
  if(!d){showToast('ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');return;}
  localStorage.setItem('patentDday',d);
  document.getElementById('dday-setup').style.display='none';
  renderDday();
}
function clearDday(){localStorage.removeItem('patentDday');renderDday();}
function renderDday(){
  const saved=localStorage.getItem('patentDday');
  const empty=document.getElementById('dday-empty');
  const display=document.getElementById('dday-display');
  if(!saved){empty.style.display='block';display.style.display='none';return;}
  empty.style.display='none';display.style.display='block';
  const exam=new Date(saved);exam.setHours(23,59,0,0);
  const diff=Math.ceil((exam-new Date())/86400000);
  const numEl=document.getElementById('dday-num');
  const subEl=document.getElementById('dday-sub-text');
  if(diff<0){numEl.textContent='D+'+Math.abs(diff);subEl.textContent='ì‹œí—˜ì´ ëë‚¬ìŠµë‹ˆë‹¤. ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰';}
  else if(diff===0){numEl.textContent='D-DAY';subEl.textContent='ì˜¤ëŠ˜ì´ ì‹œí—˜ì¼ì…ë‹ˆë‹¤! ìµœì¢… ì ê²€ë§Œ í•˜ì„¸ìš”.';}
  else{numEl.textContent='D-'+diff;subEl.textContent=getSprintPhaseMsg(diff);}
  const phases=[{d:8,label:'ì „ë²”ìœ„ 1íšŒë…',c:'var(--blue)'},{d:4,label:'ì••ì¶• ì •ë¦¬',c:'var(--gold)'},{d:2,label:'ì•½ì  ì§‘ì¤‘',c:'var(--orange)'},{d:1,label:'ìµœì¢… ì ê²€',c:'var(--red)'}];
  const grid=document.getElementById('dday-schedule-grid');
  grid.innerHTML='';
  phases.forEach(p=>{
    const isCurrent=phases.find(ph=>diff<=ph.d)===p;
    const isDone=diff>p.d;
    const div=document.createElement('div');
    div.className='dday-phase'+(isCurrent?' active':'')+(isDone?' done-phase':'');
    div.innerHTML=`<div class="dp-num" style="color:${p.c}">Ã—${p.d}</div><div class="dp-label">${p.label}</div><div class="dp-days">${p.d}ì¼ ì§‘ì¤‘</div>`;
    grid.appendChild(div);
  });
}
function getSprintPhaseMsg(d){
  if(d<=1) return 'ğŸ”´ ìµœì¢… ì ê²€ ë‹¨ê³„ â€” ì•½ì  ì¹´ë“œë§Œ ë¹ ë¥´ê²Œ ìŠ¤ìº”';
  if(d<=2) return 'ğŸŸ  ì•½ì  ì§‘ì¤‘ ë‹¨ê³„ â€” í‹€ë ¸ë˜ ì¹´ë“œ ì§‘ì¤‘ ë°˜ë³µ';
  if(d<=4) return 'ğŸŸ¡ ì••ì¶• ì •ë¦¬ ë‹¨ê³„ â€” ì „ë²”ìœ„ë¥¼ 4ì¼ ì•ˆì— ì••ì¶•';
  if(d<=8) return 'ğŸ”µ ì „ë²”ìœ„ 1íšŒë… ë‹¨ê³„ â€” 8ì¼ê°„ ì²´ê³„ì  ì •ë³µ';
  return `ì‹œí—˜ê¹Œì§€ ${d}ì¼ Â· ì§€ê¸ˆë¶€í„° ê°„ê²© ë°˜ë³µì„ ìŒ“ì•„ë‘ì„¸ìš”`;
}
function startSprint(){showToast('ìŠ¤í”„ë¦°íŠ¸ ëª¨ë“œ ì‹œì‘! ğŸ’ª');startMode('sprint');}

// â”€â”€ ê¸°ì–µ ìœ ì§€ìœ¨ (ì—ë¹™í•˜ìš°ìŠ¤ ê³µì‹) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function computeRetention(s){
  if(!s||s.fcReps===0) return null;
  const now=Date.now();
  const learnedAt=s.fcNextDue-s.fcInterval*86400000;
  const elapsed=(now-learnedAt)/86400000;
  if(elapsed<=0) return 100;
  const stability=Math.max(1,s.fcInterval);
  return Math.max(0,Math.min(100,Math.round(100*Math.exp(-elapsed/stability))));
}
function getRetentionColor(pct){
  if(pct===null) return 'var(--text3)';
  if(pct>=75) return 'var(--green)';
  if(pct>=45) return 'var(--gold)';
  if(pct>=20) return 'var(--orange)';
  return 'var(--red)';
}
function getTimingBadge(s){
  if(!s||s.fcReps===0) return {label:'ì‹ ê·œ',cls:'tb-early'};
  const ret=computeRetention(s);
  if(ret===null||ret>55) return {label:'ì—¬ìœ  ìˆìŒ',cls:'tb-early'};
  if(ret<=30) return {label:'âš  ìµœì  íƒ€ì´ë°!',cls:'tb-perfect'};
  return {label:'ë³µìŠµ ê¶Œì¥',cls:'tb-good'};
}

// â”€â”€ 1-3-7-14-21 ë‹¨ê³„ ì‹œê°í™” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function updateScheduleViz(s){
  const iv=s?s.fcInterval:0;
  const thresholds=[0,1,3,7,14,21];
  let step=0;
  for(let i=thresholds.length-1;i>=0;i--){if(iv>=thresholds[i]){step=i;break;}}
  for(let i=0;i<thresholds.length;i++){
    const dot=document.querySelector('.sv-dot-'+i);
    if(!dot) continue;
    dot.className='sv-dot sv-dot-'+i;
    if(i<step) dot.classList.add('done');
    else if(i===step) dot.classList.add('current');
    else dot.classList.add('future');
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  FLASHCARD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loadFlashcard(){
  if(currentIdx>=currentDeck.length){showResult();return;}
  showScreen('screen-flashcard');
  isFlipped=false;
  document.getElementById('card-3d').classList.remove('flipped');
  document.getElementById('rating-area').classList.remove('visible');
  const card=currentDeck[currentIdx];
  const s=db[card.id];
  document.getElementById('fc-cat-badge').textContent=card.cat;
  document.getElementById('fc-law-badge').textContent=`${card.law} Â· ${card.sub}`;
  document.getElementById('fc-question').textContent=card.q;
  document.getElementById('fc-field-label').textContent=`â–¸ ${card.field}`;
  document.getElementById('fc-answer').innerHTML=card.a;
  const ml={review:'REVIEW',flashcard:'FLASH','sleep-review':'SLEEP',sprint:'SPRINT'};
  document.getElementById('fc-mode-label').textContent=ml[currentMode]||'FLASH';
  const ivs=getNextFCIntervals(s);
  ['r0-days','r1-days','r2-days','r3-days'].forEach((id,i)=>document.getElementById(id).textContent=daysStr(ivs[i]));

  // ê¸°ì–µ ìœ ì§€ìœ¨ ê²Œì´ì§€
  const ret=computeRetention(s);
  const retColor=getRetentionColor(ret);
  const arc=document.getElementById('ret-arc');
  const txt=document.getElementById('ret-pct-txt');
  if(ret===null){
    arc.style.strokeDashoffset='150.8';arc.style.stroke='var(--text3)';
    txt.textContent='æ–°';txt.style.fill='var(--text3)';
  } else {
    arc.style.strokeDashoffset=String(150.8*(1-ret/100));
    arc.style.stroke=retColor;txt.textContent=ret+'%';txt.style.fill=retColor;
  }

  // íƒ€ì´ë° ë°°ì§€
  const tb=getTimingBadge(s);
  const tbEl=document.getElementById('timing-badge');
  tbEl.innerHTML=`<span class="timing-badge ${tb.cls}">${tb.label}</span>`;

  // 1-3-7-14-21 ë‹¨ê³„ ì‹œê°í™”
  updateScheduleViz(s);
  updateFCProgress();
}

function flipCard(){
  if(isFlipped)return;
  isFlipped=true;
  document.getElementById('card-3d').classList.add('flipped');
  document.getElementById('rating-area').classList.add('visible');
  if(db[currentDeck[currentIdx].id].fcReps===0) sessionStats.newCards++;
}

function rateCard(rating){
  const card=currentDeck[currentIdx];
  const wasM=isMastered(card.id);
  db[card.id]=sm2({...db[card.id]},rating);
  trackTodayCard(card.id);
  saveDB();
  if(rating>=2) sessionStats.correct++;
  else{sessionStats.wrong++;currentDeck.push(card);}
  if(!wasM&&isMastered(card.id)) sessionStats.masteryGained++;
  currentIdx++;
  setTimeout(loadFlashcard,180);
}

function trackTodayCard(id){
  const key='patentToday_'+todayStr();
  let arr=[];try{arr=JSON.parse(localStorage.getItem(key))||[];}catch(e){}
  if(!arr.includes(id)) arr.push(id);
  localStorage.setItem(key,JSON.stringify(arr));
}
function getTodayCards(){
  try{return JSON.parse(localStorage.getItem('patentToday_'+todayStr()))||[];}catch(e){return[];}
}
function skipCard(){currentIdx++;loadFlashcard();}
function updateFCProgress(){
  const tot=currentDeck.length,pct=tot>0?Math.round(currentIdx/tot*100):0;
  document.getElementById('fc-prog-fill').style.width=pct+'%';
  document.getElementById('fc-counter').textContent=`${currentIdx} / ${tot}`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SUBJECTIVE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loadSubjective(){
  if(currentIdx>=currentDeck.length){showResult();return;}
  showScreen('screen-subjective');
  subGraded=false;
  const card=currentDeck[currentIdx];
  document.getElementById('sub-law-badge').textContent=`${card.law} Â· ${card.sub}`;
  document.getElementById('sub-field-tag').textContent=card.field.toUpperCase();
  document.getElementById('sub-question').textContent=card.q;
  document.getElementById('grade-result-area').innerHTML='';
  document.getElementById('sub-submit-row').style.display='flex';
  document.getElementById('sub-next-row').style.display='none';
  const container=document.getElementById('sub-blanks-container');
  container.innerHTML='';
  const sub=db[card.id];
  const prevAttempts=sub.subAttempts||0;
  const hintRow=document.createElement('div');
  hintRow.className='sub-hint-row';
  const nextInterval=sub.subInterval>0?` Â· ë‹¤ìŒ ì£¼ê´€ì‹ ë³µìŠµ: ${sub.subInterval}ì¼ ì£¼ê¸°`:'';
  hintRow.innerHTML=`<span class="sub-hint-txt">í•µì‹¬ì–´ ${card.keywords.length}ê°œ í¬í•¨ ê¸°ìˆ  Â· ${prevAttempts===0?'ì²« ì‹œë„':'ëˆ„ì  '+prevAttempts+'íšŒ'}${nextInterval}</span>`;
  const cc=document.createElement('span');cc.className='sub-char-count';cc.id='sub-char-count';cc.textContent='0ì';
  hintRow.appendChild(cc);
  container.appendChild(hintRow);
  const ta=document.createElement('textarea');
  ta.className='sub-textarea';ta.id='sub-textarea';
  ta.placeholder='ì—¬ê¸°ì— ë‹µì•ˆì„ ì‘ì„±í•˜ì„¸ìš”...\nì˜ˆ: ì˜ì˜ëŠ” â—‹â—‹ì´ê³ , ì·¨ì§€ëŠ” â—‹â—‹ì´ë©°, ìš”ê±´ì€ â‘ â—‹â—‹ â‘¡â—‹â—‹ â‘¢â—‹â—‹ì´ë‹¤.';
  ta.oninput=()=>{document.getElementById('sub-char-count').textContent=ta.value.length+'ì';};
  container.appendChild(ta);
  if(sub.subAttempts>1&&sub.subCorrect===0){
    const hBtn=document.createElement('button');
    hBtn.className='keyword-hint-btn';hBtn.style.marginTop='8px';
    hBtn.textContent='ğŸ’¡ í‚¤ì›Œë“œ íŒíŠ¸ (2íšŒ ì´ìƒ í‹€ë¦° ê²½ìš°)';
    hBtn.onclick=()=>{hBtn.textContent='íŒíŠ¸: '+card.keywords.slice(0,3).join(' / ')+'...';hBtn.style.color='var(--gold)';hBtn.style.borderColor='var(--gold)';};
    container.appendChild(hBtn);
  }
  updateSubProgress();
}

function gradeSubjective(){
  if(subGraded)return;
  const card=currentDeck[currentIdx];
  const ta=document.getElementById('sub-textarea');
  const userAnswer=ta.value.trim();
  if(!userAnswer){showToast('ë‹µì•ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');return;}
  subGraded=true;
  document.getElementById('sub-submit-row').style.display='none';
  const {score,matched,missed}=gradeAnswer(userAnswer,card.keywords,card.a);
  const info=getGradeInfo(score);
  const nextSub=updateSubjective({...db[card.id]},score>=65);
  const nextInterval=nextSub.subInterval;
  const area=document.getElementById('grade-result-area');
  area.innerHTML=`
<div class="grade-result">
  <div class="grade-header" style="background:var(--bg2);">
    <div class="grade-score-circle ${info.cls}">${score}%</div>
    <div>
      <div class="grade-msg">${info.label}</div>
      <div class="grade-sub-msg">${info.msg} Â· í‚¤ì›Œë“œ ${matched.length}/${card.keywords.length} Â· ë‹¤ìŒ ë³µìŠµ: ${daysStr(nextInterval)}</div>
    </div>
  </div>
  <div class="grade-body">
    <div class="grade-comparison">
      <div class="gc-panel gc-panel-your"><div class="gc-panel-label gpl-your">ë‚´ ë‹µì•ˆ</div><div class="gc-panel-text">${userAnswer.replace(/\n/g,'<br>')}</div></div>
      <div class="gc-panel gc-panel-correct"><div class="gc-panel-label gpl-correct">ëª¨ë²” ë‹µì•ˆ</div><div class="gc-panel-text">${card.a}</div></div>
    </div>
    <div class="kw-match-row">
      <div class="kw-label">í‚¤ì›Œë“œ ë¶„ì„ â€” ë¹ ì§„ í‚¤ì›Œë“œ(âœ—)ë¥¼ ë¹¨ê°„íœìœ¼ë¡œ í‘œì‹œí•˜ê³  ë‹¤ìŒ ë³µìŠµì—ì„œ ì§‘ì¤‘ íƒ€ê²©í•˜ì„¸ìš”</div>
      <div class="kw-chips">
        ${matched.map(k=>`<span class="kw-chip kw-hit">âœ“ ${k}</span>`).join('')}
        ${missed.map(k=>`<span class="kw-chip kw-miss">âœ— ${k}</span>`).join('')}
      </div>
    </div>
    <div class="self-eval-row">
      <div style="font-size:11px;color:var(--text3);text-align:center;width:100%;margin-bottom:8px;">ëª¨ë²”ë‹µì•ˆ ëŒ€ì¡° í›„ ìµœì¢… í‰ê°€ ì„ íƒ</div>
    </div>
    <div class="self-eval-row">
      <button class="self-eval-btn seb-correct" onclick="finalizeSubjective(true)">âœ… ì •ë‹µìœ¼ë¡œ ì¸ì •</button>
      <button class="self-eval-btn seb-wrong" onclick="finalizeSubjective(false)">âŒ ì˜¤ë‹µìœ¼ë¡œ ì²˜ë¦¬</button>
    </div>
  </div>
</div>`;
  setTimeout(()=>area.scrollIntoView({behavior:'smooth',block:'nearest'}),100);
}

function finalizeSubjective(isCorrect){
  const card=currentDeck[currentIdx];
  const wasM=isMastered(card.id);
  db[card.id]=updateSubjective({...db[card.id]},isCorrect);
  saveDB();
  if(isCorrect) sessionStats.correct++;
  else{sessionStats.wrong++;currentDeck.push(card);}
  if(!wasM&&isMastered(card.id)) sessionStats.masteryGained++;
  document.querySelectorAll('.self-eval-btn').forEach(b=>{b.disabled=true;b.style.opacity='0.4';});
  document.getElementById('sub-next-row').style.display='block';
  const need=3-db[card.id].subCorrect;
  if(isCorrect&&need>0) showToast(`âœï¸ ì •ë‹µ! ì™„ì „ì•”ê¸°ê¹Œì§€ ì£¼ê´€ì‹ ${need}íšŒ ë” í•„ìš”`);
  else if(isCorrect&&need<=0) showToast(db[card.id].fcInterval>=21?'â­ ì™„ì „ ì•”ê¸° ë‹¬ì„±!':'âœï¸ ì£¼ê´€ì‹ ì™„ë£Œ! í”Œë˜ì‹œì¹´ë“œ 21ì¼ ë„ë‹¬ ì‹œ ì™„ì „ ì•”ê¸°');
}
function nextSubCard(){currentIdx++;loadSubjective();}
function skipSubCard(){currentIdx++;loadSubjective();}
function updateSubProgress(){
  const tot=currentDeck.length,pct=tot>0?Math.round(currentIdx/tot*100):0;
  document.getElementById('sub-prog-fill').style.width=pct+'%';
  document.getElementById('sub-counter').textContent=`${currentIdx+1} / ${tot}`;
  document.getElementById('sub-mode-label').textContent=currentMode==='sub-review'?'SUB DUE':'WRITE';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  FEYNMAN MODE (íŒŒì¸ë§Œ ê¸°ë²•)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let feynGraded=false;
function loadFeynman(){
  if(currentIdx>=currentDeck.length){showResult();return;}
  showScreen('screen-feynman');
  feynGraded=false;
  const card=currentDeck[currentIdx];
  document.getElementById('feyn-law').textContent=`${card.law} Â· ${card.sub} [${card.field}]`;
  document.getElementById('feyn-question').textContent=card.q;
  document.getElementById('feyn-textarea').value='';
  document.getElementById('feyn-char-count').textContent='0ì';
  document.getElementById('feyn-grade-area').innerHTML='';
  document.getElementById('feyn-submit-row').style.display='flex';
  document.getElementById('feyn-next-row').style.display='none';
  const pct=Math.round(currentIdx/currentDeck.length*100);
  document.getElementById('feyn-prog-fill').style.width=pct+'%';
  document.getElementById('feyn-counter').textContent=`${currentIdx+1} / ${currentDeck.length}`;
}
function gradeFeynman(){
  if(feynGraded) return;
  const card=currentDeck[currentIdx];
  const userText=document.getElementById('feyn-textarea').value.trim();
  if(!userText){showToast('ì„¤ëª…ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.');return;}
  feynGraded=true;
  document.getElementById('feyn-submit-row').style.display='none';
  const {score,matched,missed}=gradeAnswer(userText,card.keywords,card.a);
  const legalTerms=['ì¡°ë¬¸','ë²•ì›','ë²•ë ¹','ì´í•˜','ê²½ìš°ì—ëŠ”','ìˆëŠ” ê²½ìš°','ì •í•˜ëŠ”','í–‰ì •ì²˜ë¶„'];
  const legalCount=legalTerms.filter(t=>userText.includes(t)).length;
  const simplicity=Math.max(0,1-legalCount/legalTerms.length);
  const finalScore=Math.min(100,Math.round(score*0.8+simplicity*20));
  const info=getGradeInfo(finalScore);
  let feynFeedback='';
  if(legalCount>3) feynFeedback='<div style="margin-top:6px;font-size:11px;color:var(--orange);">ğŸ’¡ ë²•ë¥  ìš©ì–´ ì—†ì´ë„ ì„¤ëª…í•  ìˆ˜ ìˆë‚˜ìš”? ì§„ì§œ ì´í•´ì˜ ì¦ê±°ì…ë‹ˆë‹¤.</div>';
  else if(legalCount===0) feynFeedback='<div style="margin-top:6px;font-size:11px;color:var(--green);">âœ¨ ì‰¬ìš´ ë§ë¡œ ì˜ ì„¤ëª…í•˜ì…¨ìŠµë‹ˆë‹¤!</div>';
  const area=document.getElementById('feyn-grade-area');
  area.innerHTML=`
<div class="grade-result" style="margin-top:14px;">
  <div class="grade-header" style="background:var(--bg2);">
    <div class="grade-score-circle ${info.cls}">${finalScore}%</div>
    <div><div class="grade-msg">${info.label}</div><div class="grade-sub-msg">ê°œë…ì´í•´ Â· í•µì‹¬ì–´ ${matched.length}/${card.keywords.length}${feynFeedback}</div></div>
  </div>
  <div class="grade-body">
    <div class="grade-comparison">
      <div class="gc-panel gc-panel-your"><div class="gc-panel-label gpl-your">ë‚´ ì„¤ëª…</div><div class="gc-panel-text">${userText.replace(/\n/g,'<br>')}</div></div>
      <div class="gc-panel gc-panel-correct"><div class="gc-panel-label gpl-correct">ë²•ì  ì •ì˜</div><div class="gc-panel-text">${card.a}</div></div>
    </div>
    <div class="kw-match-row">
      <div class="kw-label">í•µì‹¬ ê°œë… í¬í•¨ ì—¬ë¶€</div>
      <div class="kw-chips">
        ${matched.map(k=>`<span class="kw-chip kw-hit">âœ“ ${k}</span>`).join('')}
        ${missed.map(k=>`<span class="kw-chip kw-miss">âœ— ${k}</span>`).join('')}
      </div>
    </div>
    <div class="self-eval-row" style="margin-top:12px;">
      <button class="self-eval-btn seb-correct" onclick="finalizeFeynman(true)">âœ… ê°œë… ì´í•´ë¨</button>
      <button class="self-eval-btn seb-wrong" onclick="finalizeFeynman(false)">âŒ ë‹¤ì‹œ í•™ìŠµ</button>
    </div>
  </div>
</div>`;
  setTimeout(()=>area.scrollIntoView({behavior:'smooth',block:'nearest'}),100);
}
function finalizeFeynman(isCorrect){
  const card=currentDeck[currentIdx];
  db[card.id]=updateSubjective({...db[card.id]},isCorrect);
  saveDB();
  if(isCorrect) sessionStats.correct++;
  else{sessionStats.wrong++;currentDeck.push(card);}
  document.querySelectorAll('.self-eval-btn').forEach(b=>{b.disabled=true;b.style.opacity='0.4';});
  document.getElementById('feyn-next-row').style.display='block';
  showToast(isCorrect?'ğŸ§’ íŒŒì¸ë§Œ í…ŒìŠ¤íŠ¸ í†µê³¼! ì§„ì§œë¡œ ì´í•´í•˜ì…¨êµ°ìš”.':'ğŸ“– ë‹¤ì‹œ êµì¬ë¥¼ ë³´ê³  ì‰¬ìš´ ë§ë¡œ ì—°ìŠµí•´ë³´ì„¸ìš”.');
}
function nextFeynman(){currentIdx++;loadFeynman();}
function skipFeynman(){currentIdx++;loadFeynman();}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  QUIZ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buildDistractors(card,n=3){
  const pool=CARDS.filter(c=>c.id!==card.id&&c.field===card.field);
  const wide=CARDS.filter(c=>c.id!==card.id);
  return shuffle(pool.length>=n?pool:wide).slice(0,n).map(c=>c.a);
}
function stripHTML(s){const d=document.createElement('div');d.innerHTML=s;return d.textContent||d.innerText||s;}
function loadQuiz(){
  const max=Math.min(currentDeck.length,25);
  if(currentIdx>=max){showResult();return;}
  showScreen('screen-quiz');
  quizAnswered=false;
  const card=currentDeck[currentIdx];
  const correct=card.a;
  const opts=shuffle([correct,...buildDistractors(card)]);
  document.getElementById('quiz-law-badge').textContent=`${card.law} Â· ${card.sub} [${card.field}]`;
  document.getElementById('quiz-question').textContent=card.q;
  const oc=document.getElementById('quiz-options');oc.innerHTML='';
  opts.forEach((opt,i)=>{
    const btn=document.createElement('div');btn.className='quiz-opt';
    btn.innerHTML=`<span class="opt-num">${i+1}</span><span>${stripHTML(opt)}</span>`;
    btn.onclick=()=>selectQuizAnswer(btn,opt===correct,correct,card);
    oc.appendChild(btn);
  });
  const fb=document.getElementById('quiz-feedback');fb.style.display='none';fb.className='quiz-feedback';
  document.getElementById('quiz-next-btn').style.display='none';
  document.getElementById('quiz-prog-fill').style.width=Math.round(currentIdx/max*100)+'%';
  document.getElementById('quiz-counter').textContent=`${currentIdx+1} / ${max}`;
}
function selectQuizAnswer(btn,isCorrect,correctAns,card){
  if(quizAnswered)return;quizAnswered=true;
  document.querySelectorAll('.quiz-opt').forEach(o=>{
    o.classList.add('locked');
    if(stripHTML(o.querySelector('span:last-child').textContent)===stripHTML(correctAns)) o.classList.add('correct');
  });
  if(!isCorrect) btn.classList.add('wrong');
  const fb=document.getElementById('quiz-feedback');fb.style.display='block';
  if(isCorrect){fb.className='quiz-feedback cfb';fb.textContent='âœ… ì •ë‹µì…ë‹ˆë‹¤!';sessionStats.correct++;}
  else{fb.className='quiz-feedback wfb';fb.innerHTML=`âŒ ì˜¤ë‹µ.<br><span class="fb-correct">âœ” ì •ë‹µ: </span>${correctAns}`;sessionStats.wrong++;}
  db[card.id]=sm2({...db[card.id]},isCorrect?2:0);saveDB();
  document.getElementById('quiz-next-btn').style.display='inline-block';
}
function nextQuiz(){currentIdx++;loadQuiz();}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RESULT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showResult(){
  stopSessionTimer();
  const tot=sessionStats.correct+sessionStats.wrong;
  const pct=tot>0?Math.round(sessionStats.correct/tot*100):0;
  document.getElementById('res-score').textContent=pct+'%';
  document.getElementById('res-correct').textContent=sessionStats.correct;
  document.getElementById('res-wrong').textContent=sessionStats.wrong;
  document.getElementById('res-new').textContent=sessionStats.newCards;
  const ml={flashcard:'í”Œë˜ì‹œì¹´ë“œ',review:'FC ë³µìŠµ','sleep-review':'ì·¨ì¹¨ ì „ ë³µìŠµ',sprint:'ìŠ¤í”„ë¦°íŠ¸',subjective:'ë°±ì§€ ì£¼ê´€ì‹','sub-review':'ì£¼ê´€ì‹ ë³µìŠµ',feynman:'íŒŒì¸ë§Œ ì“°ê¸°',quiz:'í€´ì¦ˆ'};
  document.getElementById('res-mode-label').textContent=(ml[currentMode]||'í•™ìŠµ')+' ì„¸ì…˜ ì™„ë£Œ';
  const mg=sessionStats.masteryGained;
  document.getElementById('res-mastery-gained').textContent=mg>0?`â­ ${mg}ê°œ ì™„ì „ ì•”ê¸° ìƒˆë¡œ ë‹¬ì„±!`:'';
  const fcDue=CARDS.filter(c=>isFCDue(c.id)).length;
  const subDue=CARDS.filter(c=>isSubDue(c.id)).length;
  document.getElementById('res-next-due').textContent=`ë‹¤ìŒ FC ë³µìŠµ: ${fcDue}ê°œ Â· ì£¼ê´€ì‹ ë³µìŠµ: ${subDue}ê°œ ì˜ˆì •`;
  const recEl=document.getElementById('res-next-recommendation');
  if(recEl){
    if(currentMode==='flashcard'||currentMode==='quiz') recEl.textContent='ğŸŒ™ ì˜¤ëŠ˜ ì·¨ì¹¨ ì „ íŒŒì¸ë§Œ ì“°ê¸°ë¡œ ì¥ê¸°ê¸°ì–µì„ êµ³íˆì„¸ìš”!';
    else if(currentMode==='sleep-review'||currentMode==='feynman') recEl.textContent='â˜€ï¸ ë‚´ì¼ ì•„ì¹¨ í”Œë˜ì‹œì¹´ë“œë¡œ ê¸°ì–µì„ ì„ ëª…í•˜ê²Œ ë§Œë“œì„¸ìš”!';
    else if(currentMode==='review') recEl.textContent='ğŸ’¡ ê³¨ë“ íƒ€ì„: ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš© ì§í›„ì— í•œ ë²ˆ ë” í”Œë˜ì‹œì¹´ë“œë¥¼ ëŒë¦¬ì„¸ìš”!';
    else recEl.textContent='';
  }
  // ë£¨í‹´ ì™„ë£Œ ì²˜ë¦¬
  if(currentMode==='sleep-review'||currentMode==='feynman') markRoutineDone('sleep');
  else if(currentMode==='review') markRoutineDone('morning');
  else if(currentMode==='flashcard') markRoutineDone('golden');
  showScreen('screen-result');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  FORGETTING CURVE SCREEN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderCurveScreen(){
  const grid=document.getElementById('curve-grid');
  grid.innerHTML='';
  const cards=[...CARDS].filter(c=>db[c.id]&&db[c.id].fcReps>0);
  cards.sort((a,b)=>(computeRetention(db[a.id])||100)-(computeRetention(db[b.id])||100));
  if(cards.length===0){
    grid.innerHTML='<div style="text-align:center;color:var(--text3);padding:40px;">ì•„ì§ í•™ìŠµí•œ ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤. í”Œë˜ì‹œì¹´ë“œë¥¼ ë¨¼ì € í•™ìŠµí•´ë³´ì„¸ìš”!</div>';
    return;
  }
  cards.forEach(card=>{
    const s=db[card.id];
    const ret=computeRetention(s);
    const color=getRetentionColor(ret);
    const iv=s.fcInterval;
    const w=110,h=34;
    const pts=[];
    for(let t=0;t<=iv+7;t++){
      const r=100*Math.exp(-t/Math.max(1,iv));
      pts.push(`${(t/(iv+7))*w},${h-(r/100)*h}`);
    }
    const now=Date.now();
    const elapsed=(now-(s.fcNextDue-iv*86400000))/86400000;
    const tx=Math.min((Math.max(0,elapsed)/(iv+7))*w,w);
    const ty=h-(ret/100)*h;
    const row=document.createElement('div');
    row.style.cssText='background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:12px 16px;display:flex;align-items:center;gap:12px;';
    row.innerHTML=`
<div style="min-width:72px;"><div style="font-family:DM Mono,monospace;font-size:9px;color:var(--gold);">${card.law}</div><div style="font-size:11px;color:var(--text2);margin-top:2px;line-height:1.3;">${card.sub}</div></div>
<div style="flex:1;">
  <svg width="${w}" height="${h}" style="display:block;">
    <rect width="${w}" height="${h}" fill="var(--bg3)" rx="4"/>
    <polyline points="${pts.join(' ')}" fill="none" stroke="${color}" stroke-width="1.5" opacity="0.7"/>
    <circle cx="${tx}" cy="${ty}" r="3" fill="${color}"/>
    <line x1="${tx}" y1="0" x2="${tx}" y2="${h}" stroke="${color}" stroke-width="1" stroke-dasharray="2,2" opacity="0.5"/>
  </svg>
</div>
<div style="text-align:right;min-width:70px;">
  <div style="font-family:DM Mono,monospace;font-size:18px;font-weight:700;color:${color};line-height:1;">${ret}%</div>
  <div style="font-size:9px;color:var(--text3);margin-top:2px;">ê°„ê²© ${iv}ì¼</div>
  ${isFCDue(card.id)?'<div style="font-size:9px;color:var(--red);font-weight:700;margin-top:2px;">ë³µìŠµ í•„ìš”</div>':''}
</div>`;
    grid.appendChild(row);
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  PROGRESS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function filterProgress(filter,tabEl){
  document.querySelectorAll('#prog-tabs .nav-tab').forEach(t=>t.classList.remove('active'));
  tabEl.classList.add('active');
  renderProgress(filter);
}
function renderProgress(filter){
  const grid=document.getElementById('progress-grid');
  grid.innerHTML='';
  let cards=[...CARDS];
  const now=Date.now();
  if(filter==='new') cards=cards.filter(c=>!db[c.id]||db[c.id].fcReps===0);
  else if(filter==='learning') cards=cards.filter(c=>db[c.id]&&db[c.id].fcReps>0&&!isMastered(c.id));
  else if(filter==='mastered') cards=cards.filter(c=>isMastered(c.id));
  else if(filter==='due') cards=cards.filter(c=>isFCDue(c.id)||isSubDue(c.id));
  if(cards.length===0){grid.innerHTML='<div style="text-align:center;color:var(--text3);padding:40px;">í•´ë‹¹í•˜ëŠ” ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤</div>';return;}
  cards.forEach(card=>{
    const s=db[card.id];
    const isNew=!s||s.fcReps===0;
    const mastered=isMastered(card.id);
    const fcPct=s?Math.min(100,Math.round(s.fcInterval/30*100)):0;
    const subPct=s?Math.min(100,Math.round(s.subCorrect/3*100)):0;
    const ret=computeRetention(s);
    let tag=mastered?'<span class="mastered-tag">â­ì•”ê¸°ì™„ë£Œ</span>':isNew?'<span class="new-tag">ì‹ ê·œ</span>':'<span class="learning-tag">í•™ìŠµì¤‘</span>';
    const retStr=ret!==null?`<span style="font-size:9px;font-family:DM Mono,monospace;color:${getRetentionColor(ret)};">ê¸°ì–µìœ ì§€ ${ret}%</span>`:'';
    const daysFC=s&&s.fcNextDue>now?Math.ceil((s.fcNextDue-now)/86400000):0;
    const fcNext=isNew?'ë¯¸í•™ìŠµ':isFCDue(card.id)?'FC ë³µìŠµí•„ìš”':`FC ${daysFC}ì¼ í›„`;
    const subNext=s&&s.subAttempts>0?(isSubDue(card.id)?'ì£¼ê´€ì‹ ë³µìŠµí•„ìš”':`SUB ${s.subCorrect}/3`):'ì£¼ê´€ì‹ ë¯¸ì‹œë„';
    const row=document.createElement('div');row.className='prog-row';
    row.innerHTML=`
<div class="prog-law">${card.law}</div>
<div class="prog-name">${card.q.length>28?card.q.slice(0,28)+'â€¦':card.q}</div>
<div style="display:flex;flex-direction:column;gap:2px;">${tag}${retStr}</div>
<div class="prog-tracks">
  <div class="prog-track-row"><span class="pt-label ptl-fc">FC</span><div class="pt-bar"><div class="pt-fill-fc" style="width:${fcPct}%"></div></div></div>
  <div class="prog-track-row"><span class="pt-label ptl-sub">ì£¼ê´€</span><div class="pt-bar"><div class="pt-fill-sub" style="width:${subPct}%"></div></div></div>
</div>
<div style="font-size:10px;color:var(--text3);text-align:right;min-width:88px;">${fcNext}<br>${subNext}</div>`;
    grid.appendChild(row);
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SESSION TIMER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let timerInterval=null,timerSeconds=0;
function startSessionTimer(){
  timerSeconds=0;clearInterval(timerInterval);
  const el=document.getElementById('session-timer');
  const disp=document.getElementById('timer-display');
  if(el) el.style.display='block';
  timerInterval=setInterval(()=>{
    timerSeconds++;
    const m=String(Math.floor(timerSeconds/60)).padStart(2,'0');
    const s=String(timerSeconds%60).padStart(2,'0');
    if(disp) disp.textContent=`${m}:${s}`;
  },1000);
}
function stopSessionTimer(){
  if(timerInterval) clearInterval(timerInterval);
  timerInterval=null;
  const el=document.getElementById('session-timer');
  if(el) el.style.display='none';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  UTILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showToast(msg){
  const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),2800);
}
function resetAll(){
  if(!confirm('ëª¨ë“  í•™ìŠµ ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
  ['patentLaw_v3','patentHist_v2','patentRoutines','patentDday'].forEach(k=>localStorage.removeItem(k));
  db={};loadDB();updateHome();showToast('ì „ì²´ ì´ˆê¸°í™” ì™„ë£Œ');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
loadDB();
updateHome();
renderDday();
updateRoutineSlots();
</script>
</body>
</html>
